if (self.CavalryLogger) { CavalryLogger.start_js(["73YZInF"]); }

__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"3762400843858666",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatSettingsQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:"2624335320919327",metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatBadgeCountQuery",selections:a},params:{id:"4265550263466753",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSGraphqlInitialSyncQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"contactsCursor"},b={defaultValue:null,kind:"LocalArgument",name:"deviceId"},c={defaultValue:null,kind:"LocalArgument",name:"epochId"},d={defaultValue:null,kind:"LocalArgument",name:"mailboxCursor"},e={defaultValue:null,kind:"LocalArgument",name:"numThreads"},f={defaultValue:null,kind:"LocalArgument",name:"schemaVersion"},g=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"contacts_cursor",variableName:"contactsCursor"},{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"epoch_id",variableName:"epochId"},{kind:"Variable",name:"mailbox_cursor",variableName:"mailboxCursor"},{kind:"Variable",name:"num_threads",variableName:"numThreads"},{kind:"Variable",name:"schema_version",variableName:"schemaVersion"}],concreteType:"LightspeedSyncRequestResponseV2",kind:"LinkedField",name:"lightspeed_web_initial_sync_v2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_sync_timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c,d,e,f],kind:"Fragment",metadata:null,name:"LSGraphqlInitialSyncQuery",selections:g,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,f,e,c,d,a],kind:"Operation",name:"LSGraphqlInitialSyncQuery",selections:g},params:{id:"3712279855543023",metadata:{},name:"LSGraphqlInitialSyncQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometSearchBootstrapEntitiesDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"of_type"},{defaultValue:null,kind:"LocalArgument",name:"picture_size"}],b=[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"of_type",variableName:"of_type"}],c={alias:null,args:null,kind:"ScalarField",name:"subtext",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},i={alias:null,args:[{kind:"Variable",name:"height",variableName:"picture_size"},{kind:"Variable",name:"width",variableName:"picture_size"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},j={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},k={kind:"InlineFragment",selections:[g,h,i,j,{alias:null,args:null,kind:"ScalarField",name:"should_show_as_individual_search_result",storageKey:null}],type:"User",abstractKey:null},l=[g,i,j],m={kind:"InlineFragment",selections:l,type:"Group",abstractKey:null};h={kind:"InlineFragment",selections:[g,h,i,j],type:"Page",abstractKey:null};i={kind:"InlineFragment",selections:l,type:"Event",abstractKey:null};j={alias:"hcmMatchCriteria",args:null,kind:"ScalarField",name:"hcm_match_criteria",storageKey:null};l={alias:"showHCMExperience",args:null,kind:"ScalarField",name:"show_hcm_experience",storageKey:null};var n={alias:"isPlaceResult",args:null,kind:"ScalarField",name:"is_place_result",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapEntitiesDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapResultsConnection",kind:"LinkedField",name:"bootstrap_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"searchable",plural:!1,selections:[e,f,k,m,h,i],storageKey:null},j,l,n],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapEntitiesDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapResultsConnection",kind:"LinkedField",name:"bootstrap_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"searchable",plural:!1,selections:[e,f,k,m,h,i,{kind:"InlineFragment",selections:[g],type:"Node",abstractKey:"__isNode"}],storageKey:null},j,l,n],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3428087383961634",metadata:{},name:"CometSearchBootstrapEntitiesDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchBootstrapEntitiesDataSourceQuery_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},c={alias:null,args:[{kind:"Variable",name:"height",variableName:"picture_size"},{kind:"Variable",name:"width",variableName:"picture_size"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},d={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},e=[a,c,d];return{argumentDefinitions:[{kind:"RootArgument",name:"picture_size"}],kind:"Fragment",metadata:null,name:"CometSearchBootstrapEntitiesDataSourceQuery_node",selections:[{alias:null,args:null,kind:"ScalarField",name:"subtext",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"searchable",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,d,{alias:null,args:null,kind:"ScalarField",name:"should_show_as_individual_search_result",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,d],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Event",abstractKey:null}],storageKey:null},{alias:"hcmMatchCriteria",args:null,kind:"ScalarField",name:"hcm_match_criteria",storageKey:null},{alias:"showHCMExperience",args:null,kind:"ScalarField",name:"show_hcm_experience",storageKey:null},{alias:"isPlaceResult",args:null,kind:"ScalarField",name:"is_place_result",storageKey:null}],type:"BootstrapResult",abstractKey:null}}();e.exports=a}),null);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"4255077087859078",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:b},params:{id:"4863818706977972",metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometPageletVCTracker",["InteractionTracingMetrics","cr:683059","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useRef;function a(a){var d=i(null);return h(function(e){if(d.current!==e){d.current=e;var f;if(e){if(a.interactionUUID!=null){var g=c("InteractionTracingMetrics").get(a.interactionUUID);g&&g.vcTracker&&(f=g.vcTracker)}else b("cr:683059")&&a.excludeFromMainVC===!0&&(f=b("cr:683059").getCurrentNavigationTrace());if(f!=null){g=c("performanceAbsoluteNow")();a.isMutationRoot===!0&&a.interactionUUID!=null&&f.addMutationRoot(e);f.addMountPoint(e,g,a.pageletName);f.trackPagelet(e,a.pageletName,g,a.vcCallback,a.pageletType,a.excludeFromMainVC)}}}},[a])}g["default"]=a}),98);
__d("setupNotificationsLiveQuery",["WebPixelRatio","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometNotificationsReceiveLiveQuery").__setRef("setupNotificationsLiveQuery");function i(a){var b={count:15,environment:"MAIN_SURFACE",filter_tokens:[],menuUseEntryPoint:c("gkx")("146"),refresh_num:0,scale:d("WebPixelRatio").get()};(a==null?void 0:a.count)!=null&&(b.count=a.count);(a==null?void 0:a.receivedNotifications)!=null&&(b.notif_cache_ids=Array.from(a==null?void 0:a.receivedNotifications));(a==null?void 0:a.filterTokens)!=null&&(b.filter_tokens=a==null?void 0:a.filterTokens);return b}var j=0,k=null;function a(a,b){j++;h.onReady(function(c){c=c.subscribeToNotificationUpdates;var d=i(b);k==null?k=c(a,d):b!=null&&k.updateVariables(d)});function c(){j--,j<0&&(j=0),j===0&&k!=null&&(k.dispose(),k=null)}return{dispose:c}}g["default"]=a}),98);
__d("CometNotificationsBadgeCount.react",["CometHeroInteractionIDContext","CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometNumberedBadge.react","CometPlaceholder.react","CometRelay","react","setupNotificationsLiveQuery","unrecoverableViolation","useCometPageletVCTracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useContext,l=e.useEffect;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});e=e.viewer;if(e==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsBadgeCountFragment_viewer.graphql"),e);var f=(e=e==null?void 0:e.notifications_unseen_count)!=null?e:0;e=a.isBadgeHidden;var g=a.setBadgeCount,m=d("CometRelay").useRelayEnvironment();l(function(){var a=c("setupNotificationsLiveQuery")(m);return function(){return a.dispose()}},[m]);l(function(){g&&g(f)},[f,g]);a=k(c("CometHeroInteractionIDContext"));a=c("useCometPageletVCTracker")({interactionUUID:a,pageletName:"NotificationsBadge"});return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("span",{}),children:e!==!0&&f>0?j.jsx(c("CometNumberedBadge.react"),{ref:a,testid:void 0,value:f}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPlatformClientInstances.bs",[],(function(a,b,c,d,e,f){"use strict";a=new WeakMap();f.instances=a}),null);
__d("LSPlatformClientProvider.re",["LSPlatformClientProvider.bs"],(function(a,b,c,d,e,f){a=b("LSPlatformClientProvider.bs").make;f.make=a}),null);
__d("LSPlatformConfig.re",["LSPlatformConfig.bs","bs_curry"],(function(a,b,c,d,e,f){a=b("LSPlatformConfig.bs").Provider.make;f.Provider_make=a;c=function(){var a=b("LSPlatformConfig.bs").useOrSuspend();return{region:a.region,deviceId:a.deviceId,appId:a.appId,schemaVersion:a.schemaVersion,numThreads:a.numThreads,getDb:a.getDb,httpEndpointUrlBuilder:a.httpEndpointUrlBuilder,realtimeUnderylingTransport:{subscribe:a.realtimeUnderylingTransport.subscribe,onReconnect:a.realtimeUnderylingTransport.onReconnect,publish:function(c,d,e){c=b("bs_curry")._3(a.realtimeUnderylingTransport.publish,c,d,e);return c},cleanup:a.realtimeUnderylingTransport.cleanup},sendHardcodedInitSync:function(b,c,d){b=a.sendHardcodedInitSync(b,c,function(a){a=d(a);return a.then(function(a){return a==null?void 0:a})});return b},getEval:a.getEval}};f.useOrSuspend=c;d=b("LSPlatformConfig.bs").Provider;f.Provider=d}),null);
__d("LSDataScriptDirectProvider.bs",["cr:1942625"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1942625").get;f.$GetLSDataScriptDirect$OR$GetLSDataScriptDirectForComet$requireCond=b("cr:1942625");f.get=a}),null);
__d("LSDedicatedMqttChannel.bs",["cr:11792"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11792").instance;f.$LSMqttChannel$OR$FBMqttChannel$requireCond=b("cr:11792");f.instance=a}),null);
__d("LSVersion",[],(function(a,b,c,d,e,f){e.exports="6107291642646578"}),null);
__d("LSVersion.bs",["LSVersion","MessengerWebSyncScripts"],(function(a,b,c,d,e,f){"use strict";a=b("LSVersion");c=b("MessengerWebSyncScripts").schemaVersionV2;d=c==null?a:c;f.version=d}),null);
__d("bs_js_json",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var b=typeof a;if(b==="string")return{TAG:0,_0:a};else if(b==="number")return{TAG:1,_0:a};else if(b==="boolean")if(a===!0)return 1;else return 0;else if(a===null)return 2;else if(Array.isArray(a))return{TAG:3,_0:a};else return{TAG:2,_0:a}}function c(a,b){switch(b){case 0:return typeof a==="string";case 1:return typeof a==="number";case 2:if(a!==null&&typeof a==="object")return!Array.isArray(a);else return!1;case 3:return Array.isArray(a);case 4:return typeof a==="boolean";case 5:return a===null}}function d(a){if(typeof a==="string")return a}function e(a){if(typeof a==="number")return a}function g(a){if(typeof a==="object"&&!Array.isArray(a)&&a!==null)return b("bs_caml_option").some(a)}function h(a){if(Array.isArray(a))return a}function i(a){if(typeof a==="boolean")return a}function j(a){if(a===null)return null}var k=function(a){a=[a];var b=[{kind:0,i:0,parent:a}];while(b.length!==0){var c=b[b.length-1];c.kind===0?(c.val=c.parent[c.i],++c.i===c.parent.length&&b.pop()):b.pop();var d=c.val;if(typeof d==="object")if(Array.isArray(d)&&d.length!==0)b.push({kind:0,i:0,parent:d,val:void 0});else for(var e in d){if(e==="RE_PRIVATE_NONE"){c.kind===0?c.parent[c.i-1]=void 0:c.parent[c.i]=void 0;continue}b.push({kind:1,i:e,parent:d,val:d[e]})}}return a[0]};function l(a){return function(a){a=JSON.stringify(a,function(a,b){return b===void 0?{RE_PRIVATE_NONE:!0}:b});if(a===void 0)throw new TypeError("output is undefined");return a}(a)}function m(a){return k(JSON.parse(a))}f.classify=a;f.test=c;f.decodeString=d;f.decodeNumber=e;f.decodeObject=g;f.decodeArray=h;f.decodeBoolean=i;f.decodeNull=j;f.deserializeUnsafe=m;f.serializeExn=l}),null);
__d("LSCookie.bs",["Cookie","LSVersion.bs","MqttWebDeviceID","Promise","bs_belt_Option","bs_js_dict","bs_js_json","gkx","killswitch","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g="m_ls";c={};var h={d:b("MqttWebDeviceID").clientID,s:b("LSVersion.bs").version,c:c},i={contents:void 0};function j(a){if(!(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("gkx")("3174")))return b("Promise").resolve(i.contents);var c=JSON.stringify(a);if(c!==void 0)try{return cookieStore.set(g,encodeURIComponent(c),{domain:window.location.hostname}).then(function(c){i.contents=a;return b("Promise").resolve(i.contents)})}catch(d){b("Cookie").set(g,c);i.contents=a;return b("Promise").resolve(i.contents)}else{b("recoverableViolation")("Failed to serialize Cookie","messenger");return b("Promise").resolve(i.contents)}}function a(a){if(!(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("gkx")("3174")))return h;a=i.contents;if(a!==void 0)return a;else{a=b("Cookie").get("m_ls");if(a!==void 0)try{a=b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(a)));var c=b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"d"))));c=c!==""?c:void 0;var d=b("bs_belt_Option").getWithDefault(c,b("MqttWebDeviceID").clientID);a=b("bs_js_dict").fromArray(b("bs_js_dict").entries(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"c"))))).map(function(a){return[a[0],b("bs_belt_Option").getExn(b("bs_js_json").decodeString(a[1]))]}));d={d:d,s:b("LSVersion.bs").version,c:a};if(c!==void 0)i.contents=d;else{a=j(d);b("promiseDone")(a,void 0,void 0)}return d}catch(a){c=j(h);b("promiseDone")(c,void 0,void 0);return h}else{a=j(h);b("promiseDone")(a,void 0,void 0);return h}}}f.cookie=i;f.writeCookie=j;f.get=a}),null);
__d("LSPlatformDeviceId.bs",["ChannelClientID","LSCookie.bs","MqttWebDeviceID","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("gkx")("3174"))return b("LSCookie.bs").get(void 0).d;else if(b("gkx")("3400"))return b("MqttWebDeviceID").clientID;else return b("ChannelClientID").getID()}c=a(void 0);f.deviceId=c}),null);
__d("XLightSpeedWebRequestController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/lightspeedweb/request/",{device_id:{type:"String",required:!0},request_id:{type:"Int",required:!0},request_type:{type:"Int"},request_payload:{type:"String"}})}),null);
__d("LSPlatformFbHTTPEndpointUrlBuilder.bs",["XLightSpeedWebRequestController","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("XLightSpeedWebRequestController").getURIBuilder().setString("device_id",a.deviceId).setInt("request_id",a.requestId).setInt("request_type",b("bs_caml_int64").to_int32(a.requestType)).setString("request_payload",a.payload).getURI().toString()}f.build=a}),null);
__d("LSDatabaseType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,59],ha=[0,60],ia=[0,61],ja=[0,62],ka=[0,63],la=[0,64],ma=[0,65],na=[0,66],oa=[0,67],pa=[0,68],qa=[0,69],ra=[0,70],sa=[0,71],ta=[0,72],ua=[0,73],va=[0,74],wa=[0,75],xa=[0,76],ya=[0,77],za=[0,78],Aa=[0,79],Ba=[0,80],Ca=[0,81],Da=[0,82],Ea=[0,84],Fa=[0,85],Ga=[0,86],Ha=[0,87],Ia=[0,88],Ja=[0,89],Ka=[0,90],La=[0,91],Ma=[0,92],Na=[0,93],Oa=[0,94],Pa=[0,95],Qa=[0,96],Ra=[0,97],Sa=[0,98],Ta=[0,99],Ua=[0,100],Va=[0,101],Wa=[0,102];f.test=a;f.mailbox=c;f.contact=d;f.appAlerts=e;f.core=b;f.stories=g;f.presence=h;f.ranking=i;f.experiment=j;f.search=k;f.securemailbox=l;f.inboxAds=m;f.sticker=n;f.omnistoreRevisionTest=o;f.frx=p;f.payments=q;f.settings=r;f.gif=s;f.arEffects=t;f.platformExtensionSdk=u;f.businessTab=v;f.composerMenus=w;f.experimentalContactPhoneNumber=x;f.forwardContents=y;f.typing=z;f.qp=A;f.inthreadbanner=B;f.logSampling=C;f.threadTheme=D;f.mediaSend=E;f.contactUpload=F;f.aloha=G;f.omnistoreSimpleTest=H;f.booking=I;f.oneTimeSyncTest=J;f.threadEmoji=K;f.universalLinks=L;f.counters=M;f.emptyTest=N;f.accountSettings=O;f.videoChatLink=P;f.zeroRating=Q;f.connectivity=R;f.switchAccountBadging=S;f.emergencyPoll=T;f.cowatch=U;f.switchAccountProfiles=V;f.$$location=W;f.syncWatchdog=X;f.bloks=Y;f.mediaEditing=Z;f.pushNotifications=$;f.switchAccountBadgingRealtime=aa;f.dasmDebug=ba;f.testTwo=ca;f.dataTrace=da;f.mediaSharing=ea;f.pluginExtensions=fa;f.localUserSettings=ga;f.groups=ha;f.dabl=ia;f.linkedGroups=ja;f.fxcal=ka;f.rooms=la;f.proactiveWarnings=ma;f.messagingAds=na;f.supportInbox=oa;f.coreClient=pa;f.threadCoPresence=qa;f.marketplace=ra;f.carrierMessaging=sa;f.notificationsClient=ta;f.cat=ua;f.composerSettings=va;f.groupThreadImage=wa;f.coplayMetadata=xa;f.searchUserGroups=ya;f.tutorial=za;f.paidAds=Aa;f.avatarsCoPresence=Ba;f.graphql=Ca;f.transcribe=Da;f.ixtServerTrigger=Ea;f.novi=Fa;f.testFramework=Ga;f.broker=Ha;f.openMessenger=Ia;f.anonymousCredentials=Ja;f.mlModel=Ka;f.localAuth=La;f.soundBite=Ma;f.encryptedBackups=Na;f.businessOrderManagement=Oa;f.e2eeMessagingMetadataMailbox=Pa;f.communitiesMailbox=Qa;f.mostLikelyToPollQuestions=Ra;f.breakoutSessions=Sa;f.messagingNotificationConfigs=Ta;f.sandboxSelector=Ua;f.gamesBotThread=Va;f.fakeMessageStreamInternalOnly=Wa}),null);
__d("LSDict",["nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.tag="ls-array";return a}function i(a){var b=this,d=new Map([].concat(a||[]).map(function(a){var b=a[0];a=a[1];return[JSON.stringify(b),a]}));this.get=function(a){return d.get(JSON.stringify(a))};this.set=function(a,c){d.set(JSON.stringify(a),c);return b};this["delete"]=function(a){return d["delete"](JSON.stringify(a))};this.clear=function(){return d.clear()};this.forEach=function(a,c){return d.forEach(function(c,d){return a(c,JSON.parse(d),b)},c)};this._getSize=function(){return d.size};Object.defineProperties(this,{size:{get:function(){return d.size}}});this.has=function(a){return d.has(JSON.stringify(a))};this.entries=c("nativePromiseRegeneratorRuntime").mark(function a(){var b,e,f,g,h,i,j;return c("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:b=d.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!e){a.next=7;break}if(!(f>=b.length)){a.next=4;break}return a.abrupt("break",18);case 4:g=b[f++];a.next=11;break;case 7:f=b.next();if(!f.done){a.next=10;break}return a.abrupt("break",18);case 10:g=f.value;case 11:h=g;i=h[0];j=h[1];a.next=16;return[JSON.parse(i),j];case 16:a.next=1;break;case 18:case"end":return a.stop()}},a,this)});this[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=this.entries;this.keys=function(){return h(Array.from(d.keys()).map(function(a){return JSON.parse(a)}))};this.values=d.values.bind(d)}i.fromObject=function(a){return new i(Object.entries(a))};i.shapeToRecord=function(a){return Array.from(a).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};g["default"]=i}),98);
__d("LSGraphqlInitialSync",["CometRelay","CometRelayEnvironment","LSGraphqlInitialSyncQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.contactsCursor,f=a.deviceId,g=a.epochId,i=a.mailboxCursor,j=a.numThreads;a=a.schemaVersion;return d("CometRelay").fetchQuery(c("CometRelayEnvironment"),h!==void 0?h:h=b("LSGraphqlInitialSyncQuery.graphql"),{contactsCursor:e,deviceId:f,epochId:g,mailboxCursor:i,numThreads:j,schemaVersion:a}).toPromise()}g["default"]=a}),98);
__d("LSJson",["LSDict","bs_caml_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=512;function i(a,b){b===void 0&&(b=0);if(b>h)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number"||typeof a==="boolean")return JSON.stringify(a);else if(a===void 0)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a){return i(a,b+1)}).join(",")+"]":d("bs_caml_int64").to_string(a);else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+i(a,b+1);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: %s"+typeof a,"messenger_comet")}g.stringify=i}),98);
__d("LSSyncChannel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d}),null);
__d("LSTransaction.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a.runInTransaction(b,function(){switch(c){case"readOnly":return"readonly";case"readWrite":return"readwrite"}}())}f.run=a}),null);
__d("bs_int64",["bs_caml","bs_caml_format","bs_caml_int64","bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return b("bs_caml_int64").sub(a,b("bs_caml_int64").one)}function c(a){if(b("bs_caml").i64_ge(a,b("bs_caml_int64").zero))return a;else return b("bs_caml_int64").neg(a)}function d(a){return b("bs_caml_int64").xor(a,b("bs_caml_int64").neg_one)}function e(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}var h=(g=b("bs_caml_int64")).compare;function i(a,c){return b("bs_caml_int64").compare(a,c)===0}var j=g.zero,k=g.one,l=g.neg_one,m=g.succ,n=g.max_int,o=g.min_int;g=g.to_string;f.zero=j;f.one=k;f.minus_one=l;f.succ=m;f.pred=a;f.abs=c;f.max_int=n;f.min_int=o;f.lognot=d;f.of_string_opt=e;f.to_string=g;f.compare=h;f.equal=i}),null);
__d("LSPlatformHardcodedInitSync.bs",["LSCookie.bs","LSDatabaseType.bs","LSDict","LSGraphqlInitialSync","LSJson","LSSyncChannel.bs","LSTransaction.bs","LightspeedWebMailboxEpochId","ODS","Promise","Promise.bs","QPLUserFlow","ReQLTable","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_dict","qpl","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("LSGraphqlInitialSync")(a)}var g=b("LSJson").stringify(new(b("LSDict"))([]));e={a:(d=b("bs_caml_int64")).zero,b:void 0,c:d.zero,d:g,e:!0,f:d.neg_one,g:!1,h:d.zero,i:d.zero,j:void 0,k:void 0,l:void 0,m:void 0,n:b("LSSyncChannel.bs").mqtt};function h(a,c,d){var e=b("bs_caml_format").caml_int64_of_string(b("LightspeedWebMailboxEpochId").epochId);return b("LSTransaction.bs").run(a,function(a){var c,f,h;return b("Promise").all([(c=b("ReQLTable")).table(a,"sync_groups").put({a:(f=b("LSDatabaseType.bs")).mailbox,b:void 0,c:(h=b("bs_caml_int64")).zero,d:g,e:!0,f:h.neg_one,g:!1,h:h.zero,i:d,j:void 0,k:void 0,l:void 0,m:void 0,n:b("LSSyncChannel.bs").mqtt}),c.table(a,"sync_groups").put({a:f.contact,b:void 0,c:h.zero,d:g,e:!0,f:h.neg_one,g:!1,h:h.zero,i:d,j:void 0,k:void 0,l:void 0,m:void 0,n:b("LSSyncChannel.bs").mqtt}),c.table(a,"network_requests").put({a:"",b:f.mailbox,c:e,d:void 0,e:h.zero,f:h.zero,g:d,h:void 0}),c.table(a,"network_requests").put({a:"",b:f.contact,c:e,d:void 0,e:h.zero,f:h.zero,g:d,h:void 0})])},"readWrite").then(function(a){return b("Promise").resolve(void 0)})}function i(a){return b("LSTransaction.bs").run(a,function(a){var c;return b("Promise").all([b("ReQLTable").table(a,"network_requests").put({a:"",b:b("LSDatabaseType.bs").mailbox,c:void 0,d:void 0,e:(c=b("bs_caml_int64")).zero,f:c.zero,g:c.zero,h:void 0}),b("ReQLTable").table(a,"network_requests").put({a:"",b:b("LSDatabaseType.bs").contact,c:void 0,d:void 0,e:c.zero,f:c.zero,g:c.zero,h:void 0})])},"readWrite").then(function(a){return b("Promise").resolve(void 0)})}function c(a,c,d){b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"send_initial_sync",void 0);var e=b("LSCookie.bs").get(void 0);return b("Promise.bs").$$catch(b("LSGraphqlInitialSync")({deviceId:a.deviceId,epochId:b("LightspeedWebMailboxEpochId").epochId,numThreads:a.numThreads,schemaVersion:a.schemaVersion,mailboxCursor:b("bs_js_dict").get(e.c,b("bs_int64").to_string(b("LSDatabaseType.bs").mailbox)),contactsCursor:b("bs_js_dict").get(e.c,b("bs_int64").to_string(b("LSDatabaseType.bs").contact))}).then(function(e){if(e!==void 0){e=e.viewer.lightspeed_web_initial_sync_v2;var f=e.last_sync_timestamp_ms,g=e.response;if(f!==void 0&&g!==void 0){b("ODS").bumpEntityKey(3185,"mw_graphql","init_sync.success");b("ODS").bumpEntityKey(3185,"mw_ls","init_sync.success");b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"initial_sync_received",void 0);return h(c,a,b("bs_caml_format").caml_int64_of_string(f)).then(function(a){return b("Promise").all(g.map(b("bs_curry").__1(d)))}).then(function(a){b("QPLUserFlow").endSuccess(b("qpl")._(25305590,"1127"),"success_with_init_sync");return b("Promise").resolve(void 0)})}b("ODS").bumpEntityKey(3185,"mw_graphql","init_sync.fail");b("recoverableViolation")("Initial Sync via GraphQL returned but did not contain epochId, lastSyncTimestamp or a response","messenger_web_product");return b("Promise").resolve(void 0)}b("ODS").bumpEntityKey(3185,"mw_graphql","init_sync.fail");b("recoverableViolation")("Initial Sync via GraphQL returned an empty response","messenger_web_product");return b("Promise").resolve(void 0)}),function(a){b("ODS").bumpEntityKey(3185,"mw_ls","init_sync.fail");b("QPLUserFlow").endFailure(b("qpl")._(25305590,"1127"),"failure_during_init_sync",void 0);a.RE_EXN_ID===b("Promise.bs").JsError&&b("recoverableViolation")("Encountered an error while publishing a LS sync request via realtime transport","messenger_web_product",{error:b("bs_caml_option").some(a._1)});return i(c)})}d={a:"",b:d.zero,c:void 0,d:void 0,e:d.zero,f:d.zero,g:d.zero,h:void 0};f.sendViaGraphQL=a;f.defaultSyncGroup=e;f.defaultNetworkRequest=d;f.updateSyncGroups=h;f.handlePreloadedSyncFailure=i;f.sendHardcodedInitSync=c}),null);
__d("MqttState.bs",[],(function(a,b,c,d,e,f){"use strict";a="Connected";b="Disconnected";c="Connecting";f.connected=a;f.disconnected=b;f.connecting=c}),null);
__d("LSPlatformMqttRealtimeTransport.bs",["ExecutionEnvironment","LSPlatformRealtimeTransport.bs","MqttState.bs","Promise","QPLUserFlow","bs_curry","qex","qpl"],(function(a,b,c,d,e,f){"use strict";function g(a){b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"create_connect_payload",void 0);return[{topic:"/ls_app_settings",payload:JSON.stringify({ls_sv:a,ls_fdid:""}),qos:1}]}function h(a){return[function(a){},function(b,c,d){return a.publish(b,c,d)}]}function i(a){var c=a.getConnectionState();if(c===b("MqttState.bs").connected)return h(a);c=h(a);var d=c[1],e={contents:function(a){}},f=new(b("Promise"))(function(a,b){e.contents=a}),g={onMQTTStateChanged:function(a){if(a===b("MqttState.bs").connected)return e.contents(void 0)}};a.subscribeChannelEvents(g);return[function(b){a.unsubscribeChannelEvents(g)},function(a,c,e){return f.then(function(f){return b("bs_curry")._3(d,a,c,e)})}]}function a(a,c){if(!b("ExecutionEnvironment").canUseDOM)return b("LSPlatformRealtimeTransport.bs").defaultUnderlyingApi;var d={getPublishMessages:function(b){return g(a)}};c.registerExtraConnectPayloadProvider(d);var e=c.subscribe("/ls_foreground_state",function(a){}),f=b("qex")._("535")===!0?i(c):h(c),j=f[0];return{subscribe:function(a){return c.subscribe("/ls_resp",function(b){return a(b)})},onReconnect:function(a){var d={contents:c.getConnectionState()},e={contents:d.contents===b("MqttState.bs").connected},f={onMQTTStateChanged:function(c){var f=e.contents&&d.contents!==b("MqttState.bs").connected;f=b("qex")._("535")===!0?f:!0;c===b("MqttState.bs").connected&&(f&&a(),e.contents=!0);d.contents=c}};c.subscribeChannelEvents(f);return function(a){c.unsubscribeChannelEvents(f)}},publish:f[1],cleanup:function(){c.unregisterExtraConnectPayloadProvider(d);b("bs_curry")._1(e,void 0);return b("bs_curry")._1(j,void 0)}}}f.sendSchemaVersion=g;f.makePublishV1=h;f.makePublishV2=i;f.make=a}),null);
__d("MessengerWebRegion.bs",["MessengerWebRegion","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerWebRegion").regionNullable;if(a==null)if(b("gkx")("1993339"))return b("unrecoverableViolation")("Tried to load mailbox for a user that does not have a mailbox","messenger_web_product");else return"";else return a}f.getRegion=a}),null);
__d("LSPlatformMessengerConfig.bs",["LSDataScriptDirectProvider.bs","LSDatabaseDeferred.bs","LSDedicatedMqttChannel.bs","LSPlatformDeviceId.bs","LSPlatformFbHTTPEndpointUrlBuilder.bs","LSPlatformHardcodedInitSync.bs","LSPlatformMqttRealtimeTransport.bs","LSVersion.bs","MessengerWebRegion.bs","ServerAppID"],(function(a,b,c,d,e,f){"use strict";c=b("MessengerWebRegion.bs").getRegion(void 0);function a(){return b("LSDatabaseDeferred.bs").db}d=b("LSPlatformMqttRealtimeTransport.bs").make(b("LSVersion.bs").version,b("LSDedicatedMqttChannel.bs").instance);e={region:c,deviceId:b("LSPlatformDeviceId.bs").deviceId,appId:b("ServerAppID").app_id,schemaVersion:b("LSVersion.bs").version,numThreads:15,getDb:a,httpEndpointUrlBuilder:b("LSPlatformFbHTTPEndpointUrlBuilder.bs").build,realtimeUnderylingTransport:d,sendHardcodedInitSync:b("LSPlatformHardcodedInitSync.bs").sendHardcodedInitSync,getEval:b("LSDataScriptDirectProvider.bs").get};c={contents:{TAG:2,_0:e}};f.config=e;f.configEagerlyLoaded=c}),null);
__d("LSPlatformMessengerConfig.re",["LSPlatformMessengerConfig.bs"],(function(a,b,c,d,e,f){a=b("LSPlatformMessengerConfig.bs").configEagerlyLoaded;f.configEagerlyLoaded=a}),null);
__d("MWChatHeadError.bs",["fbt","ix","CometPressable.react","MWPTooltip.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={compose:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"m7zwrmfr",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"tmrshh9y"},dropShadow:{boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}}};function a(a){return j.jsx(b("MWPTooltip.react"),{tooltip:g._("\u091a\u0948\u091f \u0932\u094b\u0921 \u0915\u0930\u0924\u0947 \u0938\u092e\u092f \u0915\u0941\u091b \u0917\u0921\u093c\u092c\u0921\u093c\u0940 \u0939\u0941\u0908"),align:"end",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":g._("\u091a\u0948\u091f \u0932\u094b\u0921 \u0915\u0930\u0924\u0947 \u0938\u092e\u092f \u0915\u0941\u091b \u0917\u0921\u093c\u092c\u0921\u093c\u0940 \u0939\u0941\u0908"),disabled:!0,display:"inline",xstyle:function(a){return[k.compose,k.dropShadow]},children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("502063"),24)})})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatDisabled.bs",["MWChatHeadError.bs","react","stylex","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={dockedToBottomRight:{bottom:"lfi1tu6t",end:"cypi58rs",position:"pmk7jnqg"},root:{position:"poy2od1o",bottom:"i09qtzwb",end:"n7fi1qx3"}};function a(a){a=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT");if(a)return i.jsx("div",{className:(h||(h=b("stylex")))(j.root),children:i.jsx("div",{className:h(j.dockedToBottomRight),children:i.jsx(b("MWChatHeadError.bs").make,{})})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWChatDisabled.re",["MWChatDisabled.bs"],(function(a,b,c,d,e,f){a=b("MWChatDisabled.bs").make;f.make=a}),null);
__d("CometContextualLayerAnchorRoot.re",["CometContextualLayerAnchorRoot.react"],(function(a,b,c,d,e,f){a=b("CometContextualLayerAnchorRoot.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("IsMWIsOnPushView",["CometRouterPushViewStackContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometRouterPushViewStackContext"));a=a!=null&&a[a.length-1]!=null;return a}g["default"]=a}),98);
__d("MWChatCloseNewTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,3)},[d,c])}f.useHook=a}),null);
__d("MWChatHeadsShared.bs",[],(function(a,b,c,d,e,f){"use strict";a={chatHead:{display:"j83agx80",listStyle:"p7hjln8o",marginBottom:"oud54xpy",opacity:"pedkr2u6",position:"pmk7jnqg",transitionDuration:"ebpj63zs",transitionProperty:"flx89l3n",transitionTimingFunction:"msbwk0y7"},chatHeadTarget:{alignItems:"bp9cbjyn",backgroundColor:"g5ia77u1",display:"j83agx80",height:"j0lfo8lj",justifyContent:"taijpn5t",marginStart:"ocgrx2df",marginTop:"irj2b8pg",width:"etr7akla"}};f.styles=a}),null);
__d("MWChatHeadComposeIcon.bs",["ix","CometPressable.react","MWChatHeadsShared.bs","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.label,d=a.onHoverIn,e=a.onHoverOut,f=a.onPress;a=a.xstyle;return j.jsx(b("CometPressable.react"),{"aria-label":c,testid:"chat_compose_button",onHoverIn:d,onHoverOut:e,onPress:f,overlayOffset:0,overlayRadius:"50%",xstyle:a,children:j.jsx("div",{className:(i||(i=b("stylex")))(b("MWChatHeadsShared.bs").styles.chatHeadTarget),children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("507172"),20)})})})}c=b("MWChatHeadsShared.bs").styles;d=a;f.headStyles=c;f.make=d}),null);
__d("MWChatStateActions.bs",["bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function a(a){return[{TAG:0,_0:function(c){var d=c.tabs.get(a);if(!(d==null)&&!b("bs_caml_obj").caml_equal(c.focusedTabId,a))return{tabs:c.tabs,mediaViewerLastOpen:c.mediaViewerLastOpen,focusedTabId:a,nextTabId:c.nextTabId};else return c}}]}function c(a){return[{TAG:0,_0:function(a){var b=a.focusedTabId;if(b!==void 0)return{tabs:a.tabs,mediaViewerLastOpen:a.mediaViewerLastOpen,focusedTabId:void 0,nextTabId:a.nextTabId};else return a}}]}function d(a,b){return[{TAG:1,_0:b,_1:{shouldFocus:!1},_2:function(b){if(a<=b.closeWatermark)return b;else return{tabId:b.tabId,tabType:b.tabType,openWatermark:b.openWatermark,minimiseWatermark:b.minimiseWatermark,clientForcedMinimiseWatermark:b.clientForcedMinimiseWatermark,closeWatermark:a}}}]}function e(a,b,c){var d=function(b){if(a<=b.openWatermark)return b;else return{tabId:b.tabId,tabType:c,openWatermark:a,minimiseWatermark:b.minimiseWatermark,clientForcedMinimiseWatermark:b.clientForcedMinimiseWatermark,closeWatermark:b.closeWatermark}};return[{TAG:3,_0:c,_1:b,_2:d,_3:d}]}function g(a,b){return[{TAG:1,_0:b,_1:{shouldFocus:!0},_2:function(b){if(a<=b.openWatermark)return b;else return{tabId:b.tabId,tabType:b.tabType,openWatermark:a,minimiseWatermark:b.minimiseWatermark,clientForcedMinimiseWatermark:b.clientForcedMinimiseWatermark,closeWatermark:b.closeWatermark}}}]}function h(a,b){return[{TAG:1,_0:b,_1:{shouldFocus:!1},_2:function(b){if(a<=b.minimiseWatermark)return b;else return{tabId:b.tabId,tabType:b.tabType,openWatermark:b.openWatermark,minimiseWatermark:a,clientForcedMinimiseWatermark:b.clientForcedMinimiseWatermark,closeWatermark:b.closeWatermark}}}]}function i(a,b){return[{TAG:1,_0:b,_1:{shouldFocus:!1},_2:function(b){if(a<=b.clientForcedMinimiseWatermark)return b;else return{tabId:b.tabId,tabType:b.tabType,openWatermark:b.openWatermark,minimiseWatermark:b.minimiseWatermark,clientForcedMinimiseWatermark:a,closeWatermark:b.closeWatermark}}}]}function j(a,b){return[{TAG:2,_0:b,_1:{shouldFocus:!1},_2:function(b){if(a<=b.minimiseWatermark)return b;else return{tabId:b.tabId,tabType:b.tabType,openWatermark:b.openWatermark,minimiseWatermark:a,clientForcedMinimiseWatermark:b.clientForcedMinimiseWatermark,closeWatermark:b.closeWatermark}}}]}function k(a,b,c){return[{TAG:1,_0:b,_1:{shouldFocus:!0},_2:function(a){return{tabId:a.tabId,tabType:{TAG:1,_0:c},openWatermark:a.openWatermark,minimiseWatermark:a.minimiseWatermark,clientForcedMinimiseWatermark:a.clientForcedMinimiseWatermark,closeWatermark:a.closeWatermark}}}]}function l(a,b,c){return[{TAG:1,_0:a,_1:{shouldFocus:!1},_2:function(a){var d=a.tabType;if(d.TAG===0)return a;else return{tabId:a.tabId,tabType:{TAG:1,_0:{threadKey:b,clientThreadKey:c,threadType:d._0.threadType}},openWatermark:a.openWatermark,minimiseWatermark:a.minimiseWatermark,clientForcedMinimiseWatermark:a.clientForcedMinimiseWatermark,closeWatermark:a.closeWatermark}}}]}f.focusTab=a;f.blurTab=c;f.closeTab=d;f.openTab=e;f.maximizeTab=g;f.minimizeTab=h;f.forceMinimizeTab=i;f.notificationBringHeadToTop=j;f.lockInTab=k;f.updateThreadKeyDescriptor=l}),null);
__d("MWChatOpenNewTab.bs",["LSThreadAttributionStore.bs","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MWChatStateActions.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS","bs_curry","cr:9838","react","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(!(b("cr:9838")==null))return b("bs_curry")._1(b("cr:9838").useDispatch,void 0)}function a(a,c){var d=b("useMWChatOpenTabTraceProvider")(),e=b("useCometFeedNoRoutingNavigationEventLogger")(),f=h.useContext(b("MWChatMultitabContext.bs").context),g=i(void 0);if(g!==void 0)return function(a){return b("bs_curry")._1(g,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!0},{TAG:0,_0:[]}))};else return h.useCallback(function(g){e(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_new");b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:a,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB}});b("LSThreadAttributionStore.bs").setSourceForNewThread(c);return d(function(a){if(f!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,f,{TAG:0,_0:g})},"new_message",a)},[a,f,e,d])}c=b("cr:9838");f.$MWChatStateV2$requireCond=b("cr:9838");f.mwChatStateV2=c;f.useDispatch=i;f.useHook=a}),null);
__d("useMWNewChatTabContainerPreload",["JSResourceForInteraction","JSScheduler","react","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("JSResourceForInteraction")("MWNewChatTabContainer.bs").__setRef("useMWNewChatTabContainerPreload");function a(){var a=h(function(){d("JSScheduler").scheduleSpeculativeCallback(function(){return i.preload()})},[]);a=c("useCometPreloader")("button",a,a);var b=a[0];a=a[1];return[b,a]}g["default"]=a}),98);
__d("MWNewChatTabContainerPreload.bs",["useMWNewChatTabContainerPreload"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useMWNewChatTabContainerPreload")()}f.useHook=a}),null);
__d("MWChatMultitabHeadsCompose_DEPRECATED.bs",["fbt","MWChatCloseNewTab.bs","MWChatHeadComposeIcon.bs","MWChatMultitabStateHook.bs","MWChatOpenNewTab.bs","MWNewChatTabContainerPreload.bs","MWPTooltip.react","MessengerWebEntryPoint","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={compose:{backgroundColor:"ovq5dppa",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"q9uorilb",height:"m7zwrmfr",position:"l9j0dhe7",width:"tmrshh9y"},dropShadow:{boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}}};function k(a){return[j.compose,j.dropShadow]}function a(a){var c=a.setIsSomeHeadHovered,d=b("MWChatOpenNewTab.bs").useHook(b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON,"chatheadsNewMessage"),e=b("MWChatCloseNewTab.bs").useHook(b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON);a=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);var f=a.openTabsState.map(function(a){return a.threadID});a=a.openTabsState;var h=a.length!==0?a.some(function(a){return a.isSearchView}):!1,j=f.length!==0?f.some(function(a){if(a)return!1;else return!0}):!1;a=b("MWNewChatTabContainerPreload.bs").useHook(void 0);var l=a[1],m=a[0];f=i.useCallback(function(a){if(j&&!h)return b("bs_curry")._1(e,void 0);else return b("bs_curry")._1(d,void 0)},[d,e,j,h]);a=g._("\u0928\u092f\u093e \u0938\u0902\u0926\u0947\u0936");return i.jsx(b("MWPTooltip.react"),{tooltip:a.toString(),align:"middle",position:"start",children:i.jsx(b("MWChatHeadComposeIcon.bs").make,{label:a,onHoverIn:function(a){b("bs_curry")._1(m,void 0);return b("bs_curry")._1(c,function(a){return!0})},onHoverOut:function(a){b("bs_curry")._1(l,void 0);return b("bs_curry")._1(c,function(a){return!1})},onPress:f,xstyle:k})})}c=a;f.styles=j;f.xstyle=k;f.make=c}),null);
__d("MWChatMultitabVisibleChatHeads.bs",["MWChatDeduplicateThreadIds.bs","MWChatMultitabStateHook.bs","MWChatVisibleChatHeads.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("MWChatVisibleChatHeads.bs").get(a.chatHeads,a.openTabsState);return a[0].reverse()}function a(a){var c=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);return h.useMemo(function(){return b("MWChatDeduplicateThreadIds.bs").get(i(c))},[c])}f.get=i;f.useHook=a}),null);
__d("MWChatMultitabHeadsContainer.bs",["BootloaderResource","CometPlaceholder.react","JSResource","MWChatMultitabHeadsCompose_DEPRECATED.bs","MWChatMultitabStateHook.bs","MWChatMultitabVisibleChatHeads.bs","cr:1816163","react","stylex","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={chatHeads:{alignItems:"bp9cbjyn",bottom:"cij46092",display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7"},dockedToBottomRight:{bottom:"lfi1tu6t",end:"cypi58rs",position:"pmk7jnqg",width:"tmrshh9y",height:"m7zwrmfr"}},k=b("JSResource")("MWChatMultitabHeads.bs").__setRef("MWChatMultitabHeadsContainer.bs");function a(a,b){return{setIsSomeHeadHovered:a}}function l(a){return i.createElement(b("BootloaderResource").read(k).make,a)}d={reasonResource:k,makeProps:a,make:l};function c(a){a=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);a=a.chatHeads.length;var c=b("MWChatMultitabVisibleChatHeads.bs").useHook(void 0),d=b("useCometDisplayTimingTrackerForInteraction")("ChatHead",!1,void 0),e=i.useState(function(){return!1}),f=e[1];a=a>0;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.dockedToBottomRight),ref:d,children:[i.jsxs("ul",{className:h(j.chatHeads),children:[!(b("cr:1816163")==null)&&a?i.jsx(b("cr:1816163").make,{isSomeHeadHovered:e[0]}):null,c.length!==0?i.jsx(b("CometPlaceholder.react"),{children:i.jsx(l,{setIsSomeHeadHovered:f}),fallback:null}):null]}),i.jsx(b("MWChatMultitabHeadsCompose_DEPRECATED.bs").make,{setIsSomeHeadHovered:f})]})}e=b("cr:1816163");a=c;f.styles=j;f.LazyMWChatMultitabHeads=d;f.$MWChatSettingsHead$requireCond=b("cr:1816163");f.mWChatSettingsHead=e;f.make=a}),null);
__d("useSubscriptionValue",["React"],(function(a,b,c,d,e,f,g){b=d("React");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=j(function(){return b()});var d=a[0],e=a[1],f=h(function(){e(b)},[b]);a=j(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());i(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);
__d("useWindowSize",["react","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(){return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=h(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:i,subscribe:b})}g["default"]=a}),98);
__d("MWChatMultitabResize.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react","useIsCurrentRouteMediaViewer","useWindowSize"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useWindowSize")();var c=h.useContext(b("MWChatMultitabContext.bs").context),d=b("useIsCurrentRouteMediaViewer")();h.useEffect(function(){c!==void 0&&!d&&b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,6)},[c,a.innerWidth,d])}f.useHook=a}),null);
__d("MWChatMultitabSync.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useContext(b("MWChatMultitabContext.bs").context);h.useEffect(function(){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").subscribe(c)},[c])}f.useHook=a}),null);
__d("CometErrorBoundary.re",["CometErrorBoundary.react","react"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=b("CometErrorBoundary.react");f.makeTypeChecked=i;a=function(a){var b={fallback:a.fallback,description:a.description,children:a.children,onError:a.onError==null?a.onError:function(b){b=a.onError(b==null?void 0:b);return b}};b=h.createElement(i,b);return b};f.make=a}),null);
__d("MWChatCollapseTab.bs",["MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(a){c(Date.now(),"","messenger");if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,{TAG:4,_0:a})},[d,c])}f.useHook=a}),null);
__d("MWChatMultitabHeadsArrow.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return null}b=a;f.make=b}),null);
__d("MWChatTabContainerShared.bs",[],(function(a,b,c,d,e,f){"use strict";a={chatTabContainer:{position:"pmk7jnqg",bottom:"lfi1tu6t",end:"esma6hys",display:"j83agx80"},chatTabContainerBottom:{bottom:"i09qtzwb",position:"l9j0dhe7"},chatTab:{backgroundColor:"nred35xi",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"eu4i7hue",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",overflowX:"ni8dbmo4",overflowY:"stjgntxs",marginStart:"gu00c43d",width:"jbcpqwzg",transform:"fh5enmmv",height:"kwja4m9d",maxHeight:"la0exbxb","@media (min-height: 1280px)":{height:"l8e2pc74"}},chatTabThin:{width:"elm1n26q"},chatTabNoBottomRadius:{borderBottomStartRadius:"mrjvor2e",borderBottomEndRadius:"jinzq4gt"},header:{width:"k4urcfbm",height:"m7zwrmfr",backgroundColor:"nred35xi",boxShadow:"rlauoc8d",transitionDuration:"tn0ko95a",transitionProperty:"cmqm4kv0",transitionTimingFunction:"b7h9ocf4"},workChatTab:{width:"iyyx5f41",height:"bipmatt0"},sidebarChatOverrides:{borderStart:"aypy0576",borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"mrjvor2e",boxShadow:"mvk8q8v6",marginStart:"hcukyx3x","@media (max-height: 539px)":{height:"d7ti7np3"}}};f.styles=a}),null);
__d("MWChatTabContainerLoading.bs",["fbt","CometPressable.react","MWChatCloseNewTab.bs","MWChatCollapseTab.bs","MWChatMultitabHeadsArrow.bs","MWChatTabContainerShared.bs","MessengerWebEntryPoint","bs_curry","qex","react","stylex","useCometLoadingStateTracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={chatTabContainer:{position:"pmk7jnqg",bottom:"lfi1tu6t",end:"esma6hys",display:"j83agx80"}};function a(a){var c=a.isMultitab,d=a.threadID;a=a.useSidebarChatStyles;c=c!==void 0?c:!1;a=a!==void 0?a:!1;var e=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),f=b("MWChatCloseNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),h=b("useCometLoadingStateTracker")();return j.jsxs("div",{className:(i||(i=b("stylex")))(a?!1:k.chatTabContainer,c?b("MWChatTabContainerShared.bs").styles.chatTabContainerBottom:!1),"aria-busy":!0,ref:h[1],children:[j.jsx("div",{children:j.jsx("div",{className:i(b("MWChatTabContainerShared.bs").styles.chatTab,a?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,c?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,b("qex")._("1586109")===!0?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),children:j.jsx(b("CometPressable.react"),{"aria-label":g._("\u091f\u0948\u092c \u091b\u094b\u091f\u093e \u0915\u0930\u0947\u0902"),onPress:function(a){if(d!==void 0)return b("bs_curry")._1(e,d);else return b("bs_curry")._1(f,void 0)},xstyle:function(a){return[b("MWChatTabContainerShared.bs").styles.header]}})})}),c?null:j.jsx(b("MWChatMultitabHeadsArrow.bs").make,{})]})}c=b("MWChatTabContainerShared.bs").styles;d=a;f.shareStyles=c;f.styles=k;f.make=d}),null);
__d("MWChatTabContainerWithEarlierLoading.bs",["BootloaderResource","JSResource","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWChatTabContainer.bs").__setRef("MWChatTabContainerWithEarlierLoading.bs");function j(a,b,c,d,e,f,g,h){h={isTabFocused:a,hasContent:b,useSidebarChatStyles:d,searchResults:e,mid:f};c!==void 0&&(h.isMultitab=c);g!==void 0&&(h.isMainRegion=g);return h}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};function a(a){var b=a.isTabFocused,c=a.hasContent,d=a.isMultitab;a=a.useSidebarChatStyles;return h.jsx(k,j(b,c,d,a,void 0,null,void 0,void 0))}d=a;f.LazyMWChatTabContainer=c;f.make=d}),null);
__d("MWThreadKey.bs",["bs_int64","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var c=a.id;a=a.children;var d=b("bs_int64").to_string(c),e=h.useMemo(function(){return c},[d]),f=h.useContext(i);if(f!==void 0)return b("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");else return h.jsx(i.Provider,{value:e,children:a},d)}function c(a){return h.useContext(i)}function d(a){a=h.useContext(i);if(a!==void 0)return a;else return b("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product")}e=a;f.make=e;f.useIdMemoized=c;f.useIdMemoizedExn=d}),null);
__d("MWThread_DEPRECATED.bs",["bs_caml_format","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){return h.useContext(i)}function j(a){a=h.useContext(i);if(a!==void 0)return a;else return b("unrecoverableViolation")("This hook can only be used in a component wrapped with a MWThread provider","messenger_privacy_web")}function c(a){return b("bs_caml_format").caml_int64_of_string(a.VAL)}function d(a){return j(void 0).VAL}function e(a){return a.VAL}function k(a){var c=a.id;a=a.children;var d=h.useContext(i);if(d!==void 0)return b("unrecoverableViolation")("You can't nest MWThread in another MWThread_DEPRECATED. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");else return h.createElement(i.Provider,{value:c,children:a})}k=k;f.context=i;f.useId=a;f.useIdExn=j;f.toThreadKey=c;f.useFBID=d;f.key=e;f.make=k}),null);
__d("MWUIChatTabState.bs",["Promise","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){return{_0:a}}function c(a){var c=a.tab,d=a.tokenProvider;a=a.children;var e=h.useContext(i);if(e!==void 0)return b("unrecoverableViolation")("You can't nest MWUIChatTabState in another MWUIChatTabState.","messenger_web_product");else return h.createElement(i.Provider,{value:[c,d],children:a})}c={make:c};function d(a){return function(a){return b("Promise").resolve(void 0)}}function e(a){a=h.useContext(i);if(a!==void 0)return a[0];else return b("unrecoverableViolation")("This hook can only be used in a component wrapped with a MWUIChatTabState provider","messenger_privacy_web")}function j(a){a=h.useContext(i);if(a===void 0)return b("unrecoverableViolation")("This hook can only be used in a component wrapped with a MWUIChatTabState provider","messenger_privacy_web");a=a[1];if(a!==void 0)return a;else return function(a){return[]}}f.context=i;f.createActual=a;f.Provider=c;f.useLookupThreadHook=d;f.useTab=e;f.useTokenProvider=j}),null);
__d("MWChatMultitabTabsContainer.bs",["BootloaderResource","CometContextualLayerAnchorRoot.re","CometErrorBoundary.re","CometHeroInteractionWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","JSResource","MWChatInteraction.bs","MWChatMultitabStateHook.bs","MWChatStateThread.bs","MWChatTabContainerLoading.bs","MWChatTabContainerShared.bs","MWChatTabContainerWithEarlierLoading.bs","MWChatThreadId.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","react","stylex","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={tray:{display:"j83agx80",position:"l9j0dhe7",zIndex:"du4w35lb",alignItems:"aovydwv3",height:"do00u71z"},aboveChatHeads:{position:"l9j0dhe7",zIndex:"tkr6xdv7"}},k=b("JSResource")("MWNewChatTabContainer.bs").__setRef("MWChatMultitabTabsContainer.bs");function l(a,b,c,d,e,f,g){g={hasContent:a,isSearchView:c,isTabFocused:d,searchInitialParticipant:f};b!==void 0&&(g.isMultitab=b);e!==void 0&&(g.useSidebarChatStyles=e);return g}function m(a){return i.createElement(b("BootloaderResource").read(k).make,a)}c={reasonResource:k,makeProps:l,make:m};function a(a){a=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);var c=b("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0,void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(j.aboveChatHeads),children:i.jsx(b("CometContextualLayerAnchorRoot.re").make,{children:i.jsx("div",{className:h(j.tray),children:a.openTabsState.map(function(a){var d=a.hasContent,e=a.isTabFocused,f=a.threadID;if(f){var g=f._0;g={children:i.jsx(b("MWThread_DEPRECATED.bs").make,{id:g,children:i.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(g),children:i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:g},children:i.jsx(b("CometTransientDialogProvider.react"),{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:i.jsx(b("MWChatTabContainerWithEarlierLoading.bs").make,{isTabFocused:e,hasContent:d,isMultitab:!0,useSidebarChatStyles:!1},b("MWChatThreadId.bs").getMercuryID(g))})})})})},b("MWThread_DEPRECATED.bs").key(g))};g=i.jsx("div",g)}else g=i.jsx(m,l(d,!0,a.isSearchView,e,void 0,a.searchInitialParticipant,void 0),"local");return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("CometHeroInteractionWithDiv.react"),{children:g,interactionUUID:b("MWChatInteraction.bs").get(b("MWChatStateThread.bs").toString(f)),interactionDesc:"MULTI_CHAT_TAB",pageletName:"ChatTab",excludeFromMainVC:!0,ref:c,xstyle:[b("MWChatTabContainerShared.bs").styles.chatTabContainer,b("MWChatTabContainerShared.bs").styles.chatTabContainerBottom]}),fallback:i.jsx(b("MWChatTabContainerLoading.bs").make,{isMultitab:!0,threadID:f?f._0:void 0})},f?b("MWChatThreadId.bs").serializeFuture(f._0):"search")})})})})}d=b("MWChatTabContainerShared.bs").styles;e=a;f.shareStyles=d;f.styles=j;f.LazyMWNewChatTabContainer=c;f.make=e}),null);
__d("LSErrorHandlerDeferred.bs",["LSDatabaseDeferred.bs","Promise","bs_curry","promiseDone","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("LSErrorHandler.bs").__setRef("LSErrorHandlerDeferred.bs");function a(){var a=b("LSDatabaseDeferred.bs").db.then(function(a){return g.load().then(function(c){return b("Promise").resolve(b("bs_curry")._1(c.subscribeToErrorTableAndShowToast,a))})});return function(c){c=a.then(function(a){a!==void 0&&b("bs_curry")._1(a,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(c,void 0,void 0)}}f.$LSErrorHandler$Deferred=g;f.subscribeToErrors=a}),null);
__d("ClearInterval.re",["clearInterval"],(function(a,b,c,d,e,f){a=b("clearInterval");f.clearIntervalTypeChecked=a;c=a;f.clearInterval=c}),null);
__d("LSContactType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.unknown=a;f.user=c;f.page=d;f.pagePersona=e}),null);
__d("MWChatConfig.bs",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f){"use strict";a=b("CurrentEnvironment").messengerdotcom?b("bx").getURL(b("bx")("273041")):b("bx").getURL(b("bx")("273022"));c=b("CurrentEnvironment").messengerdotcom?b("bx").getURL(b("bx")("273042")):b("bx").getURL(b("bx")("273023"));f.soundNotifMp3Url=a;f.soundNotifOggUrl=c}),null);
__d("MWChatOpenTabFromNewMessageGKed.bs",["cr:10877"],(function(a,b,c,d,e,f){"use strict";a=b("cr:10877").useHook;f.$MWV2ChatOpenTabFromNewMessage$OR$MWChatOpenTabFromNewMessage$requireCond=b("cr:10877");f.useHook=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},c("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MWChatThreadPingCounter.bs",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);if(!(a==null))return a;else return 0}function a(a){var b=h(a);g.set(a,b+1|0)}function b(a){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b}),null);
__d("MWGetCurrentThreadIDForLSThread.bs",["FBID.bs","MessagingThreadType.bs","bs_caml","bs_int64","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(d)return{NAME:"Page",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").tincanOneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").secureMessageOverWaGroup))return{NAME:"UserSecret",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").tincanOneToOneDisappearing))return{NAME:"User",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").marketplace)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").communityGroup)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").communityGroupUnjoined))return{NAME:"Group",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else return b("unrecoverableViolation")("Unsupported MWMessagingThreadType "+b("bs_int64").to_string(c),"messenger_web_product")}f.get=a}),null);
__d("Actor.re",["Actor"],(function(a,b,c,d,e,f){a=b("Actor").useActor;f.useActorTypeChecked=a;c=a;f.useActor=c}),null);
__d("MWLSActor.bs",["Actor.re","bs_caml_format","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var c=h.useContext(i);a=b("Actor.re").useActor();var d=a[0],e=h.useMemo(function(){return b("bs_caml_format").caml_int64_of_string(d)},[d]);return h.useMemo(function(){if(c!==void 0)return c;else return e},[e,c])}function c(a){var c=a.actorId;a=a.children;if(c!==void 0)return h.jsx(i.Provider,{value:c,children:a},b("bs_int64").to_string(c));else return a}d=c;f.useActor=a;f.make=d}),null);
__d("LSContactBlockedByViewerStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unblocked=a;f.messageBlocked=c;f.fullyBlocked=d}),null);
__d("MWLSChatTabPolicy.bs",["CurrentUser","LSContactBlockedByViewerStatus.bs","MWChatSettingsQuery","MWCount.bs","MessagingThreadType.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){if(d===0)return b("bs_curry")._1(a,c)}function a(a,c,d,e){var f=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").SUPPRESS_NEW_MESSAGE,extra_data:{reason:a}}})},h=function(a){if(b("killswitch")("MESSENGER_WEB_STOP_AUTOMATIC_CHAT_TAB_RAISING")||!b("gkx")("1812191")){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},i=function(c){if(b("bs_int64").to_string(a.h)===b("CurrentUser").getID()){f("message_outgoing");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(c,1)}else return b("bs_curry")._1(c,0)},j=function(a){b("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){if(!(c==null)&&c){f("turn_off_chat_tab");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)})},k=function(a){var d=b("bs_caml_int64").to_float(c.l);if(d>Date.now()||d<0){f("mention_muted");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},l=function(c){if(a.j){f("message_non_user_generated");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(c,1)}else return b("bs_curry")._1(c,0)},m=function(a){if(c.e==="inbox")return b("bs_curry")._1(a,0);else{f("message_no_inbox");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}},n=function(a){if(b("bs_caml").i64_neq(d.n,b("LSContactBlockedByViewerStatus.bs").unblocked)){f("message_blocked_participants");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},o=function(a){if(b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").communityGroup)){f("community_messaging_group_blocked");return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)};h={hd:h,tl:{hd:i,tl:{hd:j,tl:{hd:k,tl:{hd:l,tl:{hd:m,tl:{hd:n,tl:{hd:o,tl:0}}}}}}}};if(!h)return;i=function a(c){if(!c)return function(a){return g(function(a){return b("bs_curry")._1(e,void 0)},function(a){},a)};var d=c.hd,f=a(c.tl);return function(a){return g(d,f,a)}};return b("bs_curry")._1(h.hd,i(h.tl))}f.proceedIfAllow=g;f.shouldMessageBeAllowed=a}),null);
__d("MWNotificationRenderer.bs",["fbt","MessagingThreadType.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e,f,h){if(!b("bs_caml").i64_neq(a.h,c))return b("bs_curry")._1(h,g._("\u0928\u092f\u093e \u0938\u0902\u0926\u0947\u0936"));a=f.e;if(a!==void 0)c=a;else{f=e.p;c=f!==void 0?f:e.h}a=d.d;if(a!==void 0)return b("bs_curry")._1(h,g._("{senderName} \u0928\u0947 {groupName} \u0915\u094b \u0938\u0902\u0926\u0947\u0936 \u092d\u0947\u091c\u093e",[g._param("senderName",c),g._param("groupName",a)]));else if(b("bs_caml").i64_eq(d.c,b("MessagingThreadType.bs").group))return b("bs_curry")._1(h,g._("{name} \u0928\u0947 \u0906\u092a\u0915\u0947 \u0938\u092e\u0942\u0939 \u0915\u094b \u0938\u0902\u0926\u0947\u0936 \u092d\u0947\u091c\u093e",[g._param("name",c)]));else return b("bs_curry")._1(h,g._("{name} \u0928\u0947 \u0906\u092a\u0915\u094b \u0938\u0902\u0926\u0947\u0936 \u092d\u0947\u091c\u093e",[g._param("name",c)]))}f.renderDocumentTitle=a}),null);
__d("MWLSChatPopperUpper.bs",["ClearInterval.re","CometSetBlinkingTitleMessageContext","CurrentUser","FBID.bs","LSContactType.bs","MWChatConfig.bs","MWChatOpenTabFromNewMessageGKed.bs","MWChatSettingsQuery","MWChatThreadPingCounter.bs","MWCount.bs","MWGetCurrentThreadIDForLSThread.bs","MWLSActor.bs","MWLSChatTabPolicy.bs","MWNotificationRenderer.bs","MercuryIDs","ReQL.bs","ReQLTable","ServerTime","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","requireDeferred","setInterval","useGlobalEventListener"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometSetBlinkingTitleMessageContext"),j=b("requireDeferred")("Sound").__setRef("MWLSChatPopperUpper.bs");function k(a){var c=b("bs_int64").to_string(a.h)!==b("CurrentUser").getID();if(c)return j.onReady(function(c){c.play([b("MWChatConfig.bs").soundNotifOggUrl,b("MWChatConfig.bs").soundNotifMp3Url],b("bs_caml_int64").to_float(a.b),!1)})}var l={contents:void 0};function m(a,c,d,e,f,g,h,i){var j=b("MWGetCurrentThreadIDForLSThread.bs").get(d.a,d.c,b("bs_caml").i64_eq(e.q,b("LSContactType.bs").page)||b("bs_caml").i64_eq(e.q,b("LSContactType.bs").pagePersona));return b("MWLSChatTabPolicy.bs").shouldMessageBeAllowed(c,d,e,function(m){var n=b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.a)));b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.lift,void 0);return b("bs_curry")._3(a,j,d,function(a){b("MWNotificationRenderer.bs").renderDocumentTitle(c,h,d,e,f,function(a){var e=l.contents;e!==void 0&&b("bs_curry")._1(e,void 0);l.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"threads").asc,{hd:d.a,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(!b("bs_caml").i64_ge(a.j,a.i))return;c=l.contents;c!==void 0&&b("bs_curry")._1(c,void 0);l.contents=void 0;return b("bs_curry")._2(g,void 0,b("bs_caml_int64").to_float(a.j))});return b("bs_curry")._2(g,a,b("bs_caml_int64").to_float(c.b))});if(b("MWChatThreadPingCounter.bs").getCount(n)<3){b("MWChatThreadPingCounter.bs").incrementCount(n);b("MWChatSettingsQuery").areChatTabsSoundsOn(function(a){if(!(a==null)&&a)return k(c)});return}})})}function a(a){var c=h.useContext(i),d=b("bs_curry")._1(b("MWChatOpenTabFromNewMessageGKed.bs").useHook,"notificationInThreadReply"),e=b("MWLSActor.bs").useActor(void 0),f=h.useRef(b("ServerTime").getMillis());h.useEffect(function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQLTable").table(a,"messages").asc,function(g,h){if(typeof h==="number")return;if(h.TAG!==0)return;var i=h._0;if(b("bs_caml_int64").to_float(i.b)>f.current){f.current=b("bs_caml_int64").to_float(i.b);b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.$$process,void 0);b("promiseDone")(window.Promise.all([b("ReQLTable").table(a,"threads").get({hd:i.a,tl:0}),b("ReQLTable").table(a,"contacts").get({hd:i.h,tl:0}),b("ReQLTable").table(a,"participants").get({hd:i.a,tl:{hd:i.h,tl:0}})]),function(f){var g=f[2],h=f[1];if(h!==void 0&&g!==void 0)return m(d,i,b("bs_belt_Option").getExn(f[0]),h,g,c,e,a)});return}})},[c,d,a]);var g=h.useRef(void 0),j=function(a){a=g.current;if(a!==void 0){b("ClearInterval.re").clearInterval(b("bs_caml_option").valFromOption(a));return}},k=function(a){j(void 0),g.current=b("bs_caml_option").some(b("setInterval")(function(a){return b("MWChatThreadPingCounter.bs").clear(void 0)},6e5))},l=function(a){b("MWChatThreadPingCounter.bs").clear(void 0);return j(void 0)};b("useGlobalEventListener")("blur",k,{});b("useGlobalEventListener")("focus",l,{});h.useEffect(function(){return function(a){return j(void 0)}},[])}c=6e5;d=3;f.cometSetBlinkingTitleMessageContext=i;f.pingCounterResetTime=c;f.pingsMaxCount=d;f.soundDeferred=j;f.playSound=k;f.threadSubscription=l;f.dispatchOpenTab=m;f.useHook=a}),null);
__d("MWLSChatInit.bs",["LSErrorHandlerDeferred.bs","MWLSChatPopperUpper.bs","ReStore.bs"],(function(a,b,c,d,e,f){"use strict";c=b("LSErrorHandlerDeferred.bs").subscribeToErrors();function a(a){return b("MWLSChatPopperUpper.bs").useHook(b("ReStore.bs").useHook(void 0))}f._unsub=c;f.useHook=a}),null);
__d("MWLSThreadDisplayContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:a};function c(a){return h.useContext(i)}f.context=i;f.Provider=d;f.useHook=c}),null);
__d("LSAppState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.background=a;f.foreground=c}),null);
__d("LS.bs",["cr:12059"],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}c=b("cr:12059").make;f.result=a;f.make=c}),null);
__d("LSCoreIssueNewFireAndForgetTaskStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(5).add({a:void 0,b:a[0],d:b.i64.to_string(a[1]),c:a[2],e:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSFireForgetLabel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,99];f.test=a;f.presenceReport=c;f.availabilitySettings=d;f.typing=e;f.liveLocationDeprecated=b;f.liveLocation=g;f.markFolderSeen=h;f.secureTemplateClientEvent=i;f.sendPlatformReferral=j;f.liveLocationPing=k;f.generativeGroupRanking=l;f.coplayEndGame=m;f.debugLogDatascriptInternalUse=n}),null);
__d("MWLSReportPresence.bs",["LS.bs","LSCoreIssueNewFireAndForgetTaskStoredProcedure","LSDict","LSFireForgetLabel.bs","LSJson","LSTransaction.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(d){d=b("LSTransaction.bs").run(c,function(c){return b("LSCoreIssueNewFireAndForgetTaskStoredProcedure")("presence",b("LSFireForgetLabel.bs").presenceReport,b("LSJson").stringify(new(b("LSDict"))([["app_state",a]])),b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c,a])}f.useReportPresence=a}),null);
__d("MWLSPresenceManager.bs",["LSAppState.bs","MWLSReportPresence.bs","Run","bs_curry","react","useGlobalEventListener"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useRef(0),d=b("MWLSReportPresence.bs").useReportPresence(b("LSAppState.bs").foreground),e=b("MWLSReportPresence.bs").useReportPresence(b("LSAppState.bs").background);a=h.useCallback(function(a){a=c.current;if(a){b("bs_curry")._1(d,void 0);c.current=0;return}},[d]);var f=h.useCallback(function(a){a=c.current;if(a)return;else{b("bs_curry")._1(e,void 0);c.current=1;return}},[e]);b("useGlobalEventListener")("focus",a,{});b("useGlobalEventListener")("blur",f,{});h.useEffect(function(){b("bs_curry")._1(d,void 0);var a=b("Run").onBeforeUnload(function(a){b("bs_curry")._1(e,void 0)},!1);return function(b){return a.remove()}},[d,e])}f.useWatchFocusChanges=a}),null);
__d("MWSetupPresenceReporting.bs",["MWLSPresenceManager.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MWLSPresenceManager.bs").useWatchFocusChanges(void 0);return null}c=a;f.make=c}),null);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["mediaViewerExperimentRoutes","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return d("mediaViewerExperimentRoutes").ROUTES.has((a=(b=a.route)==null?void 0:b.tracePolicy)!=null?a:"")}g["default"]=a}),98);
__d("MWChatMultitabMain.bs",["CometContextualLayerAnchorRoot.re","IsMWIsOnPushView","MWChatMultitabHeadsContainer.bs","MWChatMultitabResize.bs","MWChatMultitabSync.bs","MWChatMultitabTabsContainer.bs","MWChatOnMediaVisibilityOverrideContext","MWChatTabContainerShared.bs","MWLSChatInit.bs","MWLSThreadDisplayContext.bs","MWSetupPresenceReporting.bs","bs_caml_obj","bs_caml_option","qex","react","stylex","useMWIsTopLevelRouteMediaViewerExperiment","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"poy2od1o",bottom:"i09qtzwb",end:"n7fi1qx3"},chatAbovePushView:{zIndex:"tkr6xdv7"},hidden:{display:"mkhogb32"},container:{position:"l9j0dhe7",transform:"fh5enmmv"}};function a(a){b("MWLSChatInit.bs").useHook(void 0);b("MWChatMultitabSync.bs").useHook(void 0);b("MWChatMultitabResize.bs").useHook(void 0);a=b("qex")._("561");var c=b("useMWIsTopLevelRouteMediaViewerExperiment")();c=b("MWChatOnMediaVisibilityOverrideContext").useMWChatOnMediaVisibilityOverride(c);c=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT")&&c;var d=b("IsMWIsOnPushView")();if(c)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,d?j.chatAbovePushView:!1,c?!1:j.hidden),children:[b("bs_caml_obj").caml_equal(a==null?void 0:b("bs_caml_option").some(a),"enabled")?i.jsx(b("MWSetupPresenceReporting.bs").make,{}):null,i.jsx(b("CometContextualLayerAnchorRoot.re").make,{children:i.jsx(b("MWLSThreadDisplayContext.bs").Provider.make,{children:i.jsxs("div",{className:h(j.container),children:[i.jsx(b("MWChatMultitabTabsContainer.bs").make,{}),i.jsx(b("MWChatMultitabHeadsContainer.bs").make,{})]}),value:0})})]});else return null}c=b("MWChatTabContainerShared.bs").styles;d=a;f.styles=j;f.shareStyles=c;f.make=d}),null);
__d("MWChatMultitabMain.re",["MWChatMultitabMain.bs"],(function(a,b,c,d,e,f){a=b("MWChatMultitabMain.bs").make;f.make=a}),null);
__d("MWChat.react",["CometErrorBoundary.react","LSPlatformClientProvider.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWChatDisabled.re","MWChatMultitabMain.re","cr:1619039","gkx","killswitch","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b("cr:1619039");function a(a){return!c("gkx")("1673554")||c("killswitch")("COMET_CHAT")||!c("gkx")("1812744")?h.jsx(d("MWChatDisabled.re").make,{}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWChatDisabled.re").make,{})},children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProvider.re").make,{children:h.jsx(d("MWChatMultitabMain.re").make,{})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MWChatThreadId.bs","ODS","bs_curry","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=h.useContext(b("MWChatMultitabContext.bs").context);return h.useCallback(function(e){return function(f,g){c(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");b("LSThreadAttributionStore.bs").setSource(b("MWChatThreadId.bs").getFBID(e),a);d!==void 0&&b("MWChatMultitabDispatcher.bs").dispatch(!1,d,{TAG:2,_0:e});return b("bs_curry")._1(g,void 0)}},[d,c,a])}f.useHook=a}),null);
__d("MWChatMultitabHiddenChatHeads.bs",["MWChatDeduplicateThreadIds.bs","MWChatMultitabStateHook.bs","MWChatVisibleChatHeads.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return b("MWChatVisibleChatHeads.bs").get(a.chatHeads,a.openTabsState)[1]}function a(a){var c=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(void 0);return h.useMemo(function(){return b("MWChatDeduplicateThreadIds.bs").get(i(c))},[c])}f.get=i;f.useHook=a}),null);
__d("MWChatHeadConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a=58;f.pixels_between_chat_heads=a}),null);
__d("MWChatSettingsHead.bs",["fbt","ix","CometDeferredPopoverTrigger.react","CometPressable.react","MWChatHeadConstants.bs","MWChatHeadsShared.bs","MWChatMultitabHiddenChatHeads.bs","MWChatMultitabVisibleChatHeads.bs","MWPTooltip.react","TetraIcon.react","bs_curry","fbicon","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={headArea:{height:"tv7at329",width:"thwo4zme",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},hoverTarget:{alignItems:"bp9cbjyn",backgroundColor:"g5ia77u1",display:"j83agx80",height:"lr7z0d6d",justifyContent:"taijpn5t",marginStart:"kb7jmfru",marginTop:"irj2b8pg",width:"etr7akla"},head:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",height:"tv7at329",width:"thwo4zme",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",visibility:"kr9hpln1",backgroundColor:"ovq5dppa",boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"},transform:"qpbg1qsm",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},headVisible:{visibility:"n1dktuyu",transform:"g3zh7qmp"}},m=g._("\u0935\u093f\u0915\u0932\u094d\u092a");function a(a){var c=a.isSomeHeadHovered;a=k.useState(function(){return!1});var d=a[1],e=a[0];a=k.useState(function(){return!1});var f=a[1],g=a[0];a=b("MWChatMultitabVisibleChatHeads.bs").useHook(void 0);var i=b("MWChatMultitabHiddenChatHeads.bs").useHook(void 0);i=i.length>0;a="translate3d(0,"+(String(Math.imul(Math.imul(-1,a.length+(i?1:0)|0),b("MWChatHeadConstants.bs").pixels_between_chat_heads)+12|0)+"px,0)");return k.jsx("li",{className:(j||(j=b("stylex")))(b("MWChatHeadsShared.bs").styles.chatHead),style:{transform:a},children:k.jsx(b("CometDeferredPopoverTrigger.react"),{onVisibilityChange:function(a){return b("bs_curry")._1(f,function(b){return a})},popoverResource:b("requireDeferred")("MWChatSettingsHeadPopover.react").__setRef("MWChatSettingsHead.bs"),popoverProps:{},align:"end",position:"above",children:function(a,f){return k.jsx("div",{className:(j||(j=b("stylex")))(l.headArea),children:k.jsx("div",{className:j(l.hoverTarget),onMouseEnter:function(a){return b("bs_curry")._1(d,function(a){return!0})},onMouseLeave:function(a){return b("bs_curry")._1(d,function(a){return!1})},children:k.jsx(b("CometPressable.react"),{label:"todo",ref:a,onPress:function(a){return b("bs_curry")._1(f,void 0)},xstyle:function(a){return[l.head,g||c||e?l.headVisible:!1]},children:k.jsx(b("MWPTooltip.react"),{tooltip:m,align:"middle",position:"start",children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("484387"),20)})})})})})}})},"close_all")}c=b("MWChatHeadsShared.bs").styles;d=a;f.styles=l;f.headStyles=c;f.label=m;f.make=d}),null);
__d("MAWGating.bs",["qex"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("qex")._("867")===!0}function c(a){return b("qex")._("366")===!0}function d(a){return b("qex")._("391")===!0}function e(a){return b("qex")._("475")===!0}function g(a){return b("qex")._("84")===!0}function h(a){return b("qex")._("530")===!0}f.isArmadillo=a;f.isGifEnabled=c;f.isStickerEnabled=d;f.wellBeingFeaturesEnabled=e;f.isEphemeralMessagesEnabled=g;f.isCachedDBEnabled=h}),null);
__d("MAWGating.re",["MAWGating.bs"],(function(a,b,c,d,e,f){c=(a=b("MAWGating.bs")).isArmadillo;f.isArmadillo=c;d=a.isGifEnabled;f.isGifEnabled=d;e=a.isStickerEnabled;f.isStickerEnabled=e;b=a.wellBeingFeaturesEnabled;f.wellBeingFeaturesEnabled=b;c=a.isEphemeralMessagesEnabled;f.isEphemeralMessagesEnabled=c;d=a.isCachedDBEnabled;f.isCachedDBEnabled=d}),null);
__d("MWChatBadgeCount.react",["CometNumberedBadge.react","CometPlaceholder.react","CometRelay","MAWGating.re","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.re","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l=h!==void 0?h:h=b("MWChatBadgeCountQuery.graphql");function m(a){var b,e=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(l,{},{fetchPolicy:"store-or-network"});a=(a=a.viewer)==null?void 0:a.message_threads;var f=a!=null&&!n((b=a.is_loading_client_threads)!=null?b:d("MAWGating.re").isArmadillo()===!0)&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.re").minSyncedThreads,a.unseen_count):0,g=k(null);j(function(){e&&g.current!==f&&(g.current=f,e(f))},[f,e]);return i.jsx(i.Fragment,{children:f>0?i.jsx(c("CometNumberedBadge.react"),{testid:void 0,value:f}):null})}m.displayName=m.name+" [from "+f.id+"]";function a(a){a=a.setBadgeCount;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("span",{}),children:i.jsx(m,{setBadgeCount:a})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){return a&&c("gkx")("257")}g["default"]=a}),98);
__d("LSContactDeleteThenInsertContactStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.i64.eq(a[23],[0,39423])?c[1]=[0,1]:(b.i64.eq(a[23],[0,14342874])?c[3]=[0,2]:c[3]=void 0,c[1]=c[3]),b.ftr(b.db.table(7).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.gt(c.J,a[21])}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(7).put({a:a[0],b:a[2],c:a[3],d:a[4],e:a[5],f:a[6],g:a[7],h:a[9],K:a[41],i:a[10],j:a[33],k:a[11],l:a[12],m:a[35],n:a[14],o:a[17],p:a[18],q:a[19],r:a[20],J:a[21],s:a[22],t:a[23],u:a[24],v:a[25],w:a[26],z:a[27],x:a[28],y:a[29],A:a[30],B:a[31],C:a[32],E:a[34],F:a[36],G:a[37],Q:a[38],D:c[1],H:a[39],I:a[40],N:a[43],O:[0,0],P:a[44]}):0})},function(c){return b.sp("66",a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactVerifyContactRowExistsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.ftr(b.db.table(7).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).next().then(function(d){var e=d.done;d.value;return e?b.seq([function(d){return c[0]=a[3]==null?"":a[3],b.fe(b.ftr(b.db.table(7).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.lt(c.J,a[14])}),function(a){return a["delete"]()})},function(d){return b.db.table(7).add({a:a[0],b:a[2]==null?"":a[2],c:a[5],h:c[0],K:a[19],i:c[0],l:a[9],n:a[11],w:a[12],e:"",k:!0,o:0,q:a[4],r:[0,0],u:!1,J:a[14],F:[0,0],G:a[15],H:a[18],I:a[17]})},function(d){return c[1]=new b.Map(),c[1].set("contact_id",a[0]),c[2]=b.toJSON(c[1]),b.sp("1","cpq_v2",[0,207],c[2],void 0,void 0,[0,0],void 0)}]):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingPendingTasksForQueueStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.ftr(b.db.table(3).fetch([[[a[0]]]]),function(c){return b.i64.neq(c.c,void 0)&&c.a===a[0]}).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(d){return c[2]=new b.Map(),c[2].set("queue_name",a[0]),c[2].set("next_sync_ms",void 0),c[2].set("work_item_type",[0,4]),c[2].set("network_payload",void 0),c[2].set("http_url_override",void 0),c[2].set("skip_realtime_gateway",!1),c[3]=c[2],c[0]?b.resolve():b.seq([function(d){return b.islc(b.ftr(b.db.table(2).fetch(),function(b){return b.b===a[0]}),0,b.i64.to_float([0,1])).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=["",[-1,4294967295],[0,0],[-1,4294967295],void 0,void 0],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],c[8]=d[4],c[9]=d[5],d):(b=a.item,d=[b.b,b.h,b.k,b.g,b.d,b.i],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],c[8]=d[4],c[9]=d[5],d)})},function(d){return b.db.table(3).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[11]=[0,0]:(b=a.item,c[11]=b.g)})},function(d){return c[16]=b.i64.sub(c[5],b.i64.of_float(Date.now())),b.i64.le(c[16],[0,0])?(b.i64.eq(c[7],[0,0])||a[1]?c[18]=[0,0]:(b.i64.gt(c[7],[0,7])?c[21]=b.i64.sub(c[7],[0,7]):c[21]=c[7],c[22]=b.i64.sub(c[21],[0,1]),c[23]=b.i64.mul(b.i64.lsl_([0,1],b.i64.to_int32(b.i64.lt(c[22],[0,7])?c[22]:[0,7])),[0,500]),c[18]=b.i64.lt(c[23],[0,3e4])?c[23]:[0,3e4]),c[19]=b.i64.sub(b.i64.add(c[11],c[18]),b.i64.of_float(Date.now())),c[14]=b.i64.gt(c[19],[0,0])?c[19]:[0,0]):c[14]=c[16],b.i64.neq(c[14],[0,0])?b.resolve((c[17]=new b.Map(),c[17].set("queue_name",a[0]),c[17].set("next_sync_ms",c[14]),c[17].set("work_item_type",[0,3]),c[17].set("network_payload",void 0),c[17].set("http_url_override",void 0),c[17].set("skip_realtime_gateway",!1),c[3]=c[17])):b.seq([function(a){return b.i64.neq(c[6],[0,0])||c[8]==="16"||c[8]==="4"?b.resolve((a=[c[4],void 0,[0,2],void 0,void 0,!1],c[18]=a[0],c[19]=a[1],c[20]=a[2],c[21]=a[3],c[22]=a[4],c[23]=a[5],a)):b.seq([function(a){return c[25]=b.createArray(),c[26]=!0,b.islc(b.ftr(b.db.table(2).fetch(),function(a){return a.b===c[4]}),0,b.i64.to_float([0,1])).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=["",[-1,4294967295],[0,0],[-1,4294967295],void 0,void 0],c[27]=d[0],c[28]=d[1],c[29]=d[2],c[30]=d[3],c[31]=d[4],c[32]=d[5],d):(b=a.item,d=[b.b,b.h,b.k,b.g,b.d,b.i],c[27]=d[0],c[28]=d[1],c[29]=d[2],c[30]=d[3],c[31]=d[4],c[32]=d[5],d)})},function(a){return b.ftr(b.db.table(2).fetch(),function(a){return a.b===c[4]}).next().then(function(a,b){b=a.done;a=a.value;return b?c[34]=!0:(a.item,c[34]=!0)})},function(a){return b.fe(b.ftr(b.db.table(2).fetch(),function(a){return a.b===c[4]}),function(a){var d=a.item;return c[46]=d.a,c[44]=d.d,c[47]=d.g,c[45]=d.j,c[26]=d.i===c[32]&&!0===c[34]&&c[26],c[26]?b.seq([function(a){return c[44]===void 0?b.seq([function(a){return b.fe(b.ftr(b.db.table(2).fetch(),function(a){return b.i64.eq(a.a,c[46])}),function(a){return a["delete"]()})},function(a){return c[49]=void 0}]):b.seq([function(a){return b.i64.neq(c[45],void 0)?c[56]=b.i64.ge(b.i64.of_float(Date.now()),c[45]):c[56]=!1,c[56]?b.seq([function(a){return b.fe(b.ftr(b.db.table(2).fetch(),function(a){return b.i64.eq(a.a,c[46])}),function(a){return a["delete"]()})},function(a){return c[58]=void 0}]):b.seq([function(a){return b.seq([function(a){return c[44]==="46"?b.seq([function(a){return b.sp("129",c[46]).then(function(a){return a=a,c[69]=a[0],c[70]=a[1],a})},function(a){return a=[c[69],b.i64.to_string(c[70])],c[64]=a[0],c[65]=a[1],a}]):b.seq([function(a){return c[44]==="144"?b.seq([function(a){return b.sp("164",c[46]).then(function(a){return a=a,c[72]=a[0],c[73]=a[1],a})},function(a){return a=[c[72],b.i64.to_string(c[73])],c[70]=a[0],c[71]=a[1],a}]):b.seq([function(a){return c[44]==="146"?b.seq([function(a){return b.sp("59",c[46]).then(function(a){return a=a,c[75]=a[0],c[76]=a[1],a})},function(a){return a=[c[75],b.i64.to_string(c[76])],c[73]=a[0],c[74]=a[1],a}]):b.seq([function(a){return c[44]==="32"?b.seq([function(a){return b.seq([function(a){return b.db.table(32).fetch([[[c[46]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(c[83]=b.createArray(),c[84]=(c[83].push("taskSerializerUpdateThreadName: Task ID not found"),c[83]),c[85]=(c[83].push(c[46]),c[83]),c[86]=b.toJSON(c[83]),b.log(c[86],[0,3]),e=[void 0,void 0],c[80]=e[0],c[81]=e[1],e):(d=a.item,b.seq([function(a){return c[86]=d.b,b.db.table(9).fetch([[[c[86]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(c[87]=b.createArray(),c[88]=(c[87].push("taskSerializerUpdateThreadName: Thread not found"),c[87]),c[89]=(c[87].push(c[86]),c[87]),c[90]=b.toJSON(c[87]),b.log(c[90],[0,3]),a=[void 0,void 0],c[83]=a[0],c[84]=a[1],a):(e=d.item,c[87]=new b.Map(),c[87].set("thread_key",c[86]),c[87].set("thread_name",e.d==null?"":e.d),c[87].set("sync_group",[0,1]),c[88]=b.toJSON(c[87]),a=[c[88],[0,32]],c[83]=a[0],c[84]=a[1],a)})},function(a){return a=[c[83],c[84]],c[80]=a[0],c[81]=a[1],a}]))})},function(a){return a=[c[80],c[81]],c[78]=a[0],c[79]=a[1],a}])},function(a){return a=[c[78],b.i64.to_string(c[79])],c[76]=a[0],c[77]=a[1],a}]):b.resolve((c[44]==="362"?(a=[void 0,void 0],c[81]=a[0],c[82]=a[1],a,a=[c[81],b.i64.to_string(c[82])],c[79]=a[0],c[80]=a[1],a):(a=[d.c,c[44]],c[81]=a[0],c[82]=a[1],a,a=[c[81],c[82]],c[79]=a[0],c[80]=a[1],a),a=[c[79],c[80]],c[76]=a[0],c[77]=a[1],a))},function(a){return a=[c[76],c[77]],c[73]=a[0],c[74]=a[1],a}])},function(a){return a=[c[73],c[74]],c[70]=a[0],c[71]=a[1],a}])},function(a){return a=[c[70],c[71]],c[64]=a[0],c[65]=a[1],a}])},function(a){return c[34]?(a=[c[64],c[65]],c[67]=a[0],c[68]=a[1],a):(b.i64.eq(b.rm,[0,1])?0:b["throw"]("LS:assert is failed. "),a=[void 0,void 0],c[69]=a[0],c[70]=a[1],a,a=[c[69],b.i64.to_string(c[70])],c[67]=a[0],c[68]=a[1],a),a=[c[67],c[68]],c[59]=a[0],c[60]=a[1],a}])},function(a){return c[59]!==void 0?(c[63]=new b.Map(),c[63].set("label",c[60]),c[63].set("payload",c[59]),c[63].set("queue_name",d.b),c[63].set("task_id",c[46]),c[63].set("failure_count",b.i64.eq(c[47],[0,0])?void 0:c[47]),c[62]=c[63]):c[62]=void 0,c[58]=c[62]}])},function(a){return c[49]=c[58]}])},function(a){return c[49]?c[51]=!1:c[51]=!0,c[51]?0:(c[25].push(c[49]),c[25]),c[52]=b.i64.of_int32(c[25].length),c[44]!==void 0?c[54]=["90","130","153"].includes(c[44]):c[54]=!1,c[26]=!(b.i64.ge(c[52],[0,5])||c[54])}]):b.resolve()})},function(a){return c[36]=b.i64.of_int32(c[25].length),b.i64.eq(c[36],[0,0])?b.resolve((a=[c[4],void 0,[0,4],void 0,void 0,!1],c[38]=a[0],c[39]=a[1],c[40]=a[2],c[41]=a[3],c[42]=a[4],c[43]=a[5],a)):b.seq([function(a){return c[44]=b.i64.random(),c[54]=b.i64.and_(b.i64.or_(b.i64.lsl_(b.i64.of_float(Date.now()),b.i64.to_int32([0,22])),b.i64.and_(c[44],[0,4194303])),[2147483647,4294967295]),b.db.table(3).fetch([[[c[4],[-1,4294967295]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({b:[-1,4294967295],a:c[4],f:[0,0],e:[0,0],g:b.i64.of_float(Date.now()),c:c[54]}):(a.item,b.fe(b.db.table(3).fetch([[[c[4],[-1,4294967295]]]]),function(a){var d=a.update;a.item;return d({c:c[54],g:b.i64.of_float(Date.now())})}))})},function(a){return b.islc(b.ftr(b.db.table(2).fetch(),function(a){return a.b===c[4]}),0,b.i64.to_float([0,1])).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=["",[-1,4294967295],[0,0],[-1,4294967295],void 0,void 0],c[46]=d[0],c[47]=d[1],c[48]=d[2],c[49]=d[3],c[50]=d[4],c[51]=d[5],d):(b=a.item,d=[b.b,b.h,b.k,b.g,b.d,b.i],c[46]=d[0],c[47]=d[1],c[48]=d[2],c[49]=d[3],c[50]=d[4],c[51]=d[5],d)})},function(a){return c[53]=new b.Map(),c[53].set("tasks",c[25]),c[53].set("epoch_id",c[54]),a=[c[4],void 0,[0,1],c[53],c[51],!(c[51]===void 0)||b.i64.gt(c[49],[0,7])],c[38]=a[0],c[39]=a[1],c[40]=a[2],c[41]=a[3],c[42]=a[4],c[43]=a[5],a}])},function(a){return a=[c[38],c[39],c[40],c[41],c[42],c[43]],c[18]=a[0],c[19]=a[1],c[20]=a[2],c[21]=a[3],c[22]=a[4],c[23]=a[5],a}])},function(a){return c[24]=new b.Map(),c[24].set("queue_name",c[18]),c[24].set("next_sync_ms",c[19]),c[24].set("work_item_type",c[20]),c[24].set("network_payload",c[21]),c[24].set("http_url_override",c[22]),c[24].set("skip_realtime_gateway",c[23]),c[3]=c[24]}])}])},function(a){return d[0]=c[3]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingSyncForSyncGroupStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[11]=new b.Map(),c[11].set("group_id",d.a),c[11].set("current_cursor",d.b),c[11].set("sync_status",d.c),c[11].set("sync_params",d.d),c[11].set("send_sync_params",d.e),c[11].set("min_time_to_sync_timestamp_ms",d.f),c[11].set("can_ignore_timestamp",d.g),c[11].set("sync_channel",d.n),c[11].set("last_sync_request_timestamp_ms",d.i),c[0]=c[11])})},function(d){return c[0]?c[3]=!1:c[3]=!0,c[3]?b.resolve((d=[a[0],void 0,[0,4],void 0,!1],c[5]=d[0],c[6]=d[1],c[7]=d[2],c[8]=d[3],c[9]=d[4],d)):b.seq([function(a){return c[11]=c[0].get("group_id"),c[0],b.ftr(b.db.table(3).fetch(),function(a){return b.i64.neq(a.c,void 0)&&b.i64.eq(a.b,c[11])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[12]=!1:(a.item,c[12]=!0)})},function(d){return c[12]?b.resolve((c[20]=c[0].get("group_id"),c[0],d=[c[20],void 0,[0,4],void 0,!1],c[15]=d[0],c[16]=d[1],c[17]=d[2],c[18]=d[3],c[19]=d[4],d)):b.seq([function(d){return c[32]=b.i64.of_float(Date.now()),c[20]=c[0].get("min_time_to_sync_timestamp_ms"),c[0],c[21]=c[0].get("last_sync_request_timestamp_ms"),c[0],c[22]=c[0].get("can_ignore_timestamp"),c[0],!c[22]&&b.i64.lt(c[32],c[20])?b.resolve(c[24]=b.i64.sub(c[20],c[32])):b.seq([function(d){return a[1]?b.resolve(c[34]=[0,0]):b.seq([function(a){return c[35]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[35]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[36]=[0,0]:(b=a.item,c[36]=b.f)})},function(a){return c[38]=b.i64.mul(b.i64.sub(b.i64.lsl_([0,1],b.i64.to_int32(b.i64.lt([0,15],c[36])?[0,15]:c[36])),[0,1]),[0,500]),c[39]=b.i64.sub(b.i64.add(c[21]==null?[0,0]:c[21],b.i64.lt(c[38],[0,3e4])?c[38]:[0,3e4]),c[32]),c[34]=b.i64.gt(c[39],[0,0])?c[39]:[0,0]}])},function(a){return c[24]=c[34]}])},function(a){return c[25]=c[0].get("group_id"),c[0],b.i64.gt(c[24],[0,0])?b.seq([function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.b,c[25])}),function(a){var c=a.update;a.item;return c({h:b.i64.of_float(Date.now())})})},function(a){return a=[c[25],c[24],[0,3],void 0,!1],c[27]=a[0],c[28]=a[1],c[29]=a[2],c[30]=a[3],c[31]=a[4],a}]):b.seq([function(a){return b.fe(b.db.table(1).fetch([[[c[25]]]]),function(a){var c=a.update;a.item;return c({i:b.i64.of_float(Date.now())})})},function(a){return b.fe(b.ftr(b.db.table(3).fetch(),function(a){return b.i64.eq(a.b,c[25])}),function(a){var c=a.update;a.item;return c({g:b.i64.of_float(Date.now())})})},function(a){return c[33]=c[0].get("group_id"),c[0],c[34]=b.i64.random(),c[48]=b.i64.and_(b.i64.or_(b.i64.lsl_(b.i64.of_float(Date.now()),b.i64.to_int32([0,22])),b.i64.and_(c[34],[0,4194303])),[2147483647,4294967295]),b.db.table(3).fetch([[["",c[33]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({b:c[33],a:"",f:[0,0],e:[0,0],g:[0,0],c:c[48]}):(a.item,b.fe(b.db.table(3).fetch([[["",c[33]]]]),function(a){var b=a.update;a.item;return b({c:c[48]})}))})},function(a){return c[36]=c[0].get("group_id"),c[0],b.db.table(3).fetch([[["",c[36]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[37]=[0,0]:(b=a.item,c[37]=b.f)})},function(a){return c[39]=c[0].get("send_sync_params"),c[0],c[40]=c[0].get("sync_params"),c[0],c[41]=c[0].get("current_cursor"),c[0],c[42]=new b.Map(),c[42].set("database",c[36]),c[42].set("version",[-1,4294967295]),c[42].set("epoch_id",c[48]),c[42].set("last_applied_cursor",c[41]),c[42].set("sync_params",c[39]?c[40]:void 0),c[42].set("failure_count",b.i64.gt(c[37],[0,0])?c[37]:void 0),c[43]=c[0].get("current_cursor"),c[0],void 0===c[43]?c[45]=[0,1]:c[45]=[0,2],c[46]=new b.Map(),c[46].set("type",c[45]),c[46].set("request_payload",c[42]),c[47]=c[0].get("sync_channel"),c[0],a=[c[33],void 0,[0,1],c[46],b.i64.eq(c[47],[0,2])],c[27]=a[0],c[28]=a[1],c[29]=a[2],c[30]=a[3],c[31]=a[4],a}])},function(a){return a=[c[27],c[28],c[29],c[30],c[31]],c[15]=a[0],c[16]=a[1],c[17]=a[2],c[18]=a[3],c[19]=a[4],a}])},function(a){return a=[c[15],c[16],c[17],c[18],c[19]],c[5]=a[0],c[6]=a[1],c[7]=a[2],c[8]=a[3],c[9]=a[4],a}])},function(a){return c[10]=new b.Map(),c[10].set("sync_group_id",c[5]),c[10].set("next_sync_ms",c[6]),c[10].set("work_item_type",c[7]),c[10].set("network_payload",c[8]),c[10].set("skip_realtime_gateway",c[9]),d[0]=c[10]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.a===""&&b.i64.eq(c.b,a[1])&&b.i64.eq(c.c,a[2])}),function(c){var d=c.update;c=c.item;return d({c:!a[0]&&b.i64.eq(c.f,[-1,4294967295])?c.c:void 0,f:b.i64.eq(c.f,[-1,4294967295])?[0,0]:b.i64.add(c.f,[0,1])})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.ftr(b.db.table(3).fetch([[["",a[0]]]]),function(c){return c.a===""&&b.i64.eq(c.b,a[0])&&b.i64.eq(c.c,a[1])}).next().then(function(d,e){e=d.done;d=d.value;return e?(b.log(["epoch mismatch",",",b.i64.to_string(a[0])].join(""),[0,3]),c[0]=!1):(d.item,b.seq([function(d){return b.ftr(b.db.table(1).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&c.b===a[2]}).next().then(function(d,e){e=d.done;d=d.value;return e?(b.log(["cursor mismatch",",",b.i64.to_string(a[0])].join(""),[0,3]),c[2]=!1):(d.item,b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(c){var d=c.update;c.item;return d({b:a[3],c:a[4],e:a[5],f:b.i64.eq(a[6],[0,0])?[0,0]:b.i64.add(b.i64.of_float(Date.now()),a[6]),g:a[7],n:a[8],k:b.i64.of_float(Date.now())})})},function(c){return b.fe(b.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({f:[-1,4294967295]})})},function(a){return c[2]=!0}]))})},function(a){return c[0]=c[2]}]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreGetCursorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.b)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreGetViewerFBIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(4).fetch([[[[0,1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=[-1,4294967295]:(b=a.item,c[0]=b.b)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreHandleFailedTaskStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.log(a[2],[0,3]),a[1]!==void 0?b.sp("23",a[1]):b.resolve()},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreIssueNewTaskAndGetTaskIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(c){return b.sp("1",a[0],a[1],a[2],a[3],a[4],a[5],a[6])},function(d){return b.ftr(b.db.table(2).fetchDesc(),function(c){return c.b===a[0]&&c.d===b.i64.to_string(a[1])&&c.c===a[2]}).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=[-1,4294967295]:(b=a.item,c[0]=b.a)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreIssueNewTaskStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).add({a:void 0,b:a[0],d:b.i64.to_string(a[1]),c:a[2],e:b.i64.of_float(Date.now()),i:a[3],j:a[4],k:a[5],l:[0,0],m:a[6],h:[0,0]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreRemoveTaskStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.fe(b.ftr(b.db.table(2).fetch([[[{lte:a[0]}]]]),function(c){return b.i64.le(c.a,a[0])&&c.b===d.b}),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreSetRegionHintStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({j:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreTaskExistsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddParticipantIdToGroupThreadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("162",a[1],a[0]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.ftr(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&b.i64.gt(c.j,a[9])}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(14).put({a:a[0],b:a[1],c:a[2],k:a[3],d:a[4],e:a[5],h:a[10],f:a[6],g:a[7],j:a[9],i:c[0]}):0})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxApplyAdminMessageCTAStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("423").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(27).put({a:a[0],b:a[2],c:c[0],d:a[1],e:a[5],f:a[6],g:a[7],h:a[8],i:a[3],j:a[9],k:a[10],l:a[11],m:a[12]})},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&c.e===a[2]}),function(b){var d=b.update;b.item;return d({K:c[0],L:a[3],M:a[4]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxClearMessagePlaceholderRangeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],[0,0]]]]),function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&b.i64.eq([0,0],c.b)&&b.i64.eq([0,0],c.d)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxComputeParticipantCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.ftr(b.db.table(14).fetch([[[a[1],c[0]]]]),function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[0])}).next().then(function(a,b){var d=a.done;a=a.value;return d?c[1]=!1:(b=a.item,c[1]=b.f)})},function(d){return b.ftr(b.db.table(14).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])}).next().then(function(a,b){var d=a.done;a=a.value;return d?c[3]=!1:(b=a.item,c[3]=b.f)})},function(d){return b.ftr(b.db.table(7).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,1073741823],[0,0],!1],c[5]=d[0],c[6]=d[1],c[7]=d[2],d):(b=a.item,d=[b.G==null?[0,1073741823]:b.G,b.r==null?[0,0]:b.r,b.m==null?!1:b.m],c[5]=d[0],c[6]=d[1],c[7]=d[2],d)})},function(a){return c[9]=b.i64.eq(c[6],[0,4])?c[7]?[0,2612119]:b.i64.or_([0,2612119],b.i64.lsl_([0,1],b.i64.to_int32([0,3]))):c[5],c[10]=b.i64.lsl_([0,1],b.i64.to_int32([0,20])),c[11]=(c[1]===!0?c[3]===!1:!1)?c[9]:b.i64.eq(b.i64.and_(c[9],c[10]),[0,0])?c[9]:b.i64.sub(c[9],c[10]),c[12]=b.i64.lsl_([0,1],b.i64.to_int32([0,22])),c[13]=(c[1]===!0?c[3]===!0:!1)?c[11]:b.i64.eq(b.i64.and_(c[11],c[12]),[0,0])?c[11]:b.i64.sub(c[11],c[12]),c[14]=b.i64.lsl_([0,1],b.i64.to_int32([0,21])),d[0]=c[1]===!0?c[13]:b.i64.eq(b.i64.and_(c[13],c[14]),[0,0])?c[13]:b.i64.sub(c[13],c[14])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeletePollAttachmentStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.ftr(b.db.table(38).fetch([[[a[2]]]]),function(c){return b.i64.eq(c.a,a[2])&&b.i64.eq(c.b,a[0])}).next().then(function(c,d){var e=c.done;c=c.value;return e?b.fe(b.ftr(b.db.table(16).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&c.e===a[1]&&(b.i64.eq(c.f,[0,7])||b.i64.eq(c.f,[0,0]))&&c.j===!1&&c.l===!0&&b.i64.eq(c.bV,void 0)}),function(a){return a["delete"]()}):(d=c.item,b.fe(b.ftr(b.db.table(16).fetch([[[a[0],d.c,a[1]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&c.c===d.c&&c.e===a[1]&&(b.i64.eq(c.f,[0,7])||b.i64.eq(c.f,[0,0]))&&c.j===!1&&c.l===!0&&b.i64.eq(c.bV,void 0)}),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertMessageRequestStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({a:a[0],b:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertThreadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({a:a[7],j:a[1],Z:a[6],b:a[8],c:a[9],e:a[10],u:a[25],A:a[31],i:a[0],m:a[2],d:a[3],f:a[4],t:a[5],g:a[11],h:a[12],k:a[13],l:a[14],bc:a[15],n:a[16],o:a[17],p:a[20],q:a[21],r:a[22],s:a[23],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],B:a[32],C:a[33],D:a[34],E:a[35],F:a[36],G:a[37],H:a[38],I:a[39],J:a[40],K:a[41],L:a[42],M:a[43],N:a[44],O:a[45],P:a[46],Q:a[47],R:a[48],S:a[49],T:a[50],U:a[51],V:a[52],W:a[53],X:a[54],Y:a[55],ba:a[59]}):(e=d.item,c[1]=e.i,c[3]=e.A,c[2]=e.V,c[4]=e.W,b.i64.le(e.Z,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[31],[-1,4294967286])&&b.i64.eq(c[3],[0,0])?(f=[c[3],e.e],c[7]=f[0],c[8]=f[1],f):(d=[a[31],a[10]],c[7]=d[0],c[8]=d[1],d),b.db.table(9).put({a:a[7],j:e.j,Z:a[6],b:a[8],c:a[9],e:c[8],u:a[25],A:c[7],i:c[1],m:a[2],d:a[3],f:a[4],t:a[5],g:a[11],h:a[12],k:a[13],l:a[14],bc:a[15],n:a[16],o:a[17],p:a[20],q:a[21],r:a[22],s:a[23],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],B:a[32],C:a[33],D:a[34],E:a[35],F:a[36],G:a[37],H:a[38],I:a[39],J:a[40],K:a[41],L:a[42],M:a[43],N:a[44],O:a[45],P:a[46],Q:a[47],R:a[48],S:a[49],T:a[50],U:a[51],V:c[2],W:c[4],X:a[54],Y:a[55],ba:a[59]})):b.db.table(9).put({a:a[7],j:a[1],Z:a[6],b:a[8],c:a[9],e:a[10],u:a[25],A:a[31],i:a[0],m:a[2],d:a[3],f:a[4],t:a[5],g:a[11],h:a[12],k:a[13],l:a[14],bc:a[15],n:a[16],o:a[17],p:a[20],q:a[21],r:a[22],s:a[23],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],B:a[32],C:a[33],D:a[34],E:a[35],F:a[36],G:a[37],H:a[38],I:a[39],J:a[40],K:a[41],L:a[42],M:a[43],N:a[44],O:a[45],P:a[46],Q:a[47],R:a[48],S:a[49],T:a[50],U:a[51],V:c[2],W:c[4],X:a[54],Y:a[55],ba:a[59]}):b.resolve())})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxFilteredThreadsRangesQueryStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return(a[2]&&b.i64.neq(a[7],void 0)&&b.i64.neq(a[4],void 0)||a[3]&&b.i64.neq(a[6],void 0)&&b.i64.neq(a[5],void 0))&&!(a[2]&&b.i64.neq(a[7],void 0)&&b.i64.neq(a[4],void 0)&&a[3]&&b.i64.neq(a[6],void 0)&&b.i64.neq(a[5],void 0))?b.seq([function(d){return c[7]=a[4]==null?[-2147483648,0]:a[4],c[8]=a[7]==null?[0,1]:a[7],c[9]=b.i64.gt(c[8],[0,1])&&b.i64.gt(c[7],[-2147483648,0]),b.sp("16",[0,1]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[1]=new b.Map(),c[1].set("cursor",c[0]),c[1].set("filter",a[1]),c[1].set("is_after",a[3]),c[1].set("parent_thread_key",a[0]),c[1].set("reference_activity_timestamp",a[3]?a[6]:a[7]),c[1].set("reference_thread_key",a[3]?a[5]:a[4]),b.i64.gt([0,0],[0,0])?c[3]=b.i64.add(b.i64.of_float(Date.now()),[0,0]):c[3]=[0,0],c[4]=b.toJSON(c[1]),b.sp("2","trq",[0,313],c[4],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[5]=a[0],a})},function(d){return b.ftr(b.db.table(159).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.j,a[1])}).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(159).add({k:"",a:a[0],b:c[7],c:c[8],j:a[1],e:[0,1],d:[-2147483648,0],f:c[9],g:!1,h:c[9],i:!1}):(d.item,b.fe(b.ftr(b.db.table(159).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.j,a[1])}),function(a){var b=a.update;a.item;return b({f:!0,g:!1,h:c[9],i:!1})}))})}]):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.sb(b.db.table(27).fetch(),[["c","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.c,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.a,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.sb(b.db.table(20).fetch(),[["c","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.c,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxHandlePlaceholderPollDataStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(38).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.ftr(b.db.table(38).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.gt(c.f,[0,80])}).next().then(function(e){var c=e.done;e.value;return c?b.db.table(38).put({a:a[0],f:[0,80],b:d.b,c:d.c,d:d.d,e:d.e}):0}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertAttachmentItemStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(18).add({a:a[0],b:a[1],c:a[2],d:a[4],y:a[30],e:a[7],f:a[8],g:a[9],h:a[12],i:a[13],j:a[14],k:a[15],l:a[16],m:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[28],x:a[29],z:a[32],A:a[34],B:a[35],C:a[36],D:a[38],E:a[39],F:a[40],G:a[42],H:a[43],I:a[44],J:a[45],K:a[46],L:a[47],M:a[48]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertAttachmentStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[32],a[37],a[39]]]]),function(c){return b.i64.eq(c.a,a[32])&&b.i64.eq([0,0],a[33])&&c.c===a[37]&&c.e===a[39]&&b.i64.lt(c.bU,a[108])}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({a:a[32],c:a[37],e:a[39],j:a[3],k:a[4],f:a[34],b:a[36],l:a[40],bU:a[108],h:a[1],i:a[2],A:a[5],B:a[6],C:a[7],D:a[8],E:a[9],F:a[10],G:a[11],H:a[12],I:a[13],J:a[15],K:a[16],L:a[17],P:a[18],X:a[19],Y:a[20],Z:a[21],ba:a[22],bb:a[23],bc:a[24],bd:a[25],be:a[26],bi:a[27],bj:a[28],bk:a[29],bJ:a[30],bT:a[31],d:a[38],m:a[41],n:a[42],o:a[43],p:a[44],q:a[45],r:a[47],s:a[48],t:a[49],u:a[51],v:a[52],w:a[53],x:a[55],y:a[56],z:a[57],M:a[58],N:a[59],O:a[60],Q:a[61],R:a[62],S:a[63],T:a[64],U:a[65],V:a[66],W:a[67],bf:a[68],bg:a[69],bh:a[70],g:a[71],bl:a[73],bm:a[74],bn:a[75],bo:a[76],bp:a[77],bq:a[78],br:a[79],bs:a[80],bt:a[81],bv:a[82],bw:a[83],bx:a[84],by:a[85],bz:a[86],bA:a[87],bC:a[88],bD:a[89],bE:a[90],bF:a[91],bG:a[92],bH:a[93],bK:a[94],bO:a[95],bP:a[96],bL:a[97],bM:a[98],bN:a[99],bQ:a[100],bR:a[101],bS:a[102],bV:a[106],bW:a[107]})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertNewMessageRangeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("47",a[0],a[9])},function(d){return b.ftr(b.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.le(c.b,a[5])&&b.i64.ge(c.d,a[5])}).next().then(function(b,d){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],c[0]=e[0],c[1]=e[1],c[2]=e[2],e):(d=b.item,e=[d.b,d.c,d.h],c[0]=e[0],c[1]=e[1],c[2]=e[2],e)})},function(d){return b.ftr(b.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.le(c.b,a[6])&&b.i64.ge(c.d,a[6])}).next().then(function(b,d){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],c[4]=e[0],c[5]=e[1],c[6]=e[2],e):(d=b.item,e=[d.d,d.e,d.i],c[4]=e[0],c[5]=e[1],c[6]=e[2],e)})},function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.ge(a[6],c.b)&&b.i64.le(a[5],c.d)}),function(a){return a["delete"]()})},function(d){return b.db.table(13).put({a:a[0],b:c[0],c:c[1],d:c[4],e:c[5],f:!1,g:!1,h:c[2],i:c[6]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkThreadReadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.a,a[1])&&b.i64.gt(a[0],c.j)}),function(b){var c=b.update;b.item;return c({j:a[0]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpsertReactionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=new b.Map(),c[0].set("thread_key",a[0]),c[0].set("timestamp_ms",a[1]),c[0].set("message_id",a[2]),c[0].set("actor_id",a[3]),c[0].set("reaction",a[4]),c[0].set("reaction_style",void 0),c[0].set("sync_group",[0,1]),c[1]=b.createArray(),c[2]=(c[1].push("reaction"),c[1]),c[3]=c[0].get("message_id"),c[0],c[4]=(c[1].push(c[3]),c[1]),c[5]=b.toJSON(c[1]),b.sp("3",c[5],[0,29])},function(d){return a[4]===""?b.seq([function(c){return b.sp("111",a[0],a[2],a[3])},function(a){return c[7]=void 0}]):b.seq([function(d){return a[4]==="\u2764\ufe0f"?c[16]="\u2764":c[16]=a[4],b.sp("110",a[0],a[1],a[2],a[3],c[16],[0,20])},function(a){return c[7]=void 0}])},function(d){return c[8]=new b.Map(),c[8].set("thread_key",a[0]),c[8].set("timestamp_ms",a[1]),c[8].set("message_id",a[2]),c[8].set("actor_id",a[3]),c[8].set("reaction",a[4]),c[8].set("reaction_style",void 0),c[8].set("sync_group",[0,1]),c[9]=b.createArray(),c[10]=(c[9].push("reaction"),c[9]),c[11]=c[8].get("message_id"),c[8],c[12]=(c[9].push(c[11]),c[9]),c[13]=b.toJSON(c[9]),c[14]=b.toJSON(c[8]),b.sp("1",c[13],[0,29],c[14],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetMessageDisplayedContentTypesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.f,b.m],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],void 0,void 0],c[3]=d[0],c[4]=d[1],c[5]=d[2],d):(b=a.item,d=[b.t,b.r,b.g],c[3]=d[0],c[4]=d[1],c[5]=d[2],d)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.w)})},function(d){return b.i64.eq(c[0],[0,6])?c[10]=[0,64]:(b.i64.eq(c[0],[0,5])?c[17]=[0,4]:(b.i64.eq(c[0],[0,3])?c[19]=[0,16384]:(b.i64.eq(c[0],[0,2])?c[21]=[0,2]:(b.i64.eq(c[0],[0,4])?c[23]=[0,2]:(c[24]=a[5]?[0,4096]:[0,0],c[23]=c[24]),c[21]=c[23]),c[19]=c[21]),c[17]=c[19]),c[10]=c[17]),c[11]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[10],[0,1]):c[10],c[12]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[11],[0,128]):c[11],c[13]=b.i64.eq(c[0],[0,7])?b.i64.or_(c[12],[0,8]):c[12],c[14]=b.i64.eq(c[1],[0,0])?b.i64.or_(c[13],[0,1024]):b.i64.eq(c[1],[0,1])?b.i64.or_(c[13],[0,2048]):c[13],c[15]=b.i64.eq(c[3],[0,2])&&c[4]!==void 0?b.i64.or_(c[14],[0,512]):c[14],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}),function(d){var e=d.update;d.item;return e({Q:a[4]?[0,32]:b.i64.eq(c[3],[0,3])?b.i64.or_(c[15],[0,8192]):c[15]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetMessageTextHasLinksStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}),function(a){var b=a.update;a.item;return b({O:!0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetThreadImageURLStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({f:a[1]===""?void 0:a[1],g:a[2],h:a[3],R:a[4],Q:a[5]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxThreadsRangesQueryStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return a[1]&&b.i64.eq(a[6],[0,0])?b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!1})}):(a[1]&&b.i64.neq(a[6],void 0)&&b.i64.neq(a[3],void 0)||a[2]&&b.i64.neq(a[5],void 0)&&b.i64.neq(a[4],void 0))&&!(a[1]&&b.i64.neq(a[6],void 0)&&b.i64.neq(a[3],void 0)&&a[2]&&b.i64.neq(a[5],void 0)&&b.i64.neq(a[4],void 0))?b.seq([function(d){return c[8]=a[3]==null?[-2147483648,0]:a[3],c[9]=a[6]==null?[0,1]:a[6],c[10]=b.i64.gt(c[9],[0,1])&&b.i64.gt(c[8],[-2147483648,0]),b.sp("16",[0,1]).then(function(a){return a=a,c[1]=a[0],a})},function(d){return c[2]=new b.Map(),c[2].set("is_after",a[2]),c[2].set("parent_thread_key",a[0]),c[2].set("reference_thread_key",a[2]?a[4]:a[3]),c[2].set("reference_activity_timestamp",a[2]?a[5]:a[6]),c[2].set("additional_pages_to_fetch",a[7]),c[2].set("cursor",c[1]),c[2].set("messaging_tag",void 0),b.i64.gt([0,0],[0,0])?c[4]=b.i64.add(b.i64.of_float(Date.now()),[0,0]):c[4]=[0,0],c[5]=b.toJSON(c[2]),b.sp("2","trq",[0,145],c[5],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[6]=a[0],a})},function(d){return b.db.table(10).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(10).add({a:a[0],b:c[8],c:c[9],e:[0,1],d:[-2147483648,0],f:c[10],g:!1,h:c[10],i:!1}):(d.item,b.fe(b.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!0,g:!1,h:c[10],i:!1})}))})}]):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateExtraAttachmentColumnsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[2],a[3]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],a[1])&&c.c===a[2]&&c.e===a[3]}),function(b){var c=b.update;b.item;return c({bu:a[4],bB:a[5],bI:a[6],bX:a[10],bY:a[11],bZ:a[12],ca:a[13]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateReadReceiptStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[1],{lt:a[0]},a[2]]],"threadKeyReadWatermarkTimestampMs"]),function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&b.i64.lt(c.c,a[0])}),function(c){var d=c.update;c=c.item;return d({c:a[0],k:b.i64.gt(a[3],[0,0])?a[3]:c.k})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadsRangesV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(10).add({a:a[1],b:a[3],c:a[2],e:[0,1],d:[-2147483648,0],f:!1,g:!1,h:b.i64.gt(a[2],[0,1])&&b.i64.gt(a[3],[-2147483648,0]),i:!1})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertAttachmentRangeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({a:a[0],b:a[1],c:a[2],d:[2328,1316134911],g:a[3],h:!1,e:!1,f:!1})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertMessageStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],V:a[2],c:a[6],h:a[10],j:a[12],k:a[14],l:a[15],g:a[0],W:a[1],d:a[7],i:a[11],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52],Y:a[53]}):(d=c.item,b.i64.le(d.V,a[2])?b.db.table(12).put({a:a[3],b:a[5],e:a[8],f:a[9],V:a[2],c:d.c,h:a[10],j:a[12],k:a[14],l:a[15],g:a[0],W:a[1],d:d.d,i:a[11],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52],Y:a[53]}):b.resolve())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertSequenceIdStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(25).put({a:c[0],b:a[0]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxVerifyPollExistsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(38).fetch([[[a[1]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.seq([function(c){return b.fe(b.ftr(b.db.table(38).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.a,a[1])&&b.i64.lt(c.f,[0,40])}),function(a){return a["delete"]()})},function(c){return b.db.table(38).add({a:a[1],f:[0,40],b:a[0],c:a[2],d:a[3],e:a[4]})},function(d){return c[2]=new b.Map(),c[2].set("thread_key",a[0]),c[2].set("poll_id",a[1]),c[2].set("sync_group",[0,1]),c[3]=b.toJSON(c[2]),b.sp("1","poll_point_query",[0,170],c[3],void 0,void 0,[0,0],void 0)},function(a){return c[0]=!1}]):(e=d.item,b.seq([function(c){return b.i64.gt(a[3],e.d)?b.fe(b.db.table(38).fetch([[[a[1]]]]),function(b){var c=b.update;b.item;return c({c:a[2],d:a[3],e:a[4]})}):b.resolve()},function(a){return b.i64.eq(e.f,[0,80])?c[3]=!0:(c[4]=!1,c[3]=c[4]),c[0]=c[3]}]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxVerifyThreadExistsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return[[0,7],[0,8],[0,13],[0,10],[0,11],[0,16]].some(function(c){return b.i64.eq(a[1],c)})?b.resolve((d=[!1,!1,!1],c[1]=d[0],c[2]=d[1],c[3]=d[2],d)):b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[!0,!0,!1],c[4]=f[0],c[5]=f[1],c[6]=f[2],f):(e=d.item,c[12]=e.Z,e.e==="other"?(f=[!0,!1,!1],c[9]=f[0],c[10]=f[1],c[11]=f[2],f):(b.i64.ge(c[12],a[4])||b.i64.eq(c[12],[0,20])&&(b.i64.eq(a[1],[0,2])||b.i64.eq(a[1],[0,18]))?(d=[!1,!1,!1],c[14]=d[0],c[15]=d[1],c[16]=d[2],d):(e=[!0,!1,!0],c[14]=e[0],c[15]=e[1],c[16]=e[2],e),f=[c[14],c[15],c[16]],c[9]=f[0],c[10]=f[1],c[11]=f[2],f),d=[c[9],c[10],c[11]],c[4]=d[0],c[5]=d[1],c[6]=d[2],d)})},function(a){return a=[c[4],c[5],c[6]],c[1]=a[0],c[2]=a[1],c[3]=a[2],a}])},function(d){return c[1]?(c[4]=new b.Map(),c[4].set("thread_fbid",a[0]),c[4].set("force_upsert",!1),c[4].set("use_open_messenger_transport",!1),c[5]=c[4].get("thread_fbid"),c[4],c[6]=b.toJSON(c[4]),b.sp("1",b.i64.to_string(c[5]),[0,209],c[6],void 0,void 0,[0,0],void 0)):b.resolve()},function(d){return c[2]?b.seq([function(d){return c[4]=[64,1133823263],c[5]=[0,0],b.fe(b.ftr(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.lt(c.Z,a[4])}),function(a){return a["delete"]()})},function(d){return b.db.table(9).add({a:a[0],b:[0,0],c:a[1],e:a[2],j:[0,0],k:[-1,4294967295],u:[0,0],A:a[3],Z:a[4],P:c[4],bb:c[5]})},function(d){return b.i64.eq(a[1],[0,1])?b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[0],a[0]]]]),function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])&&b.i64.lt(c.j,a[4])}),function(a){return a["delete"]()})},function(c){return b.db.table(14).add({a:a[0],b:a[0],c:[0,0],d:[0,0],j:a[4]})},function(a){return b.sp("4").then(function(a){return a=a,c[6]=a[0],a})},function(d){return b.fe(b.ftr(b.db.table(14).fetch([[[a[0],c[6]]]]),function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[6])&&b.i64.lt(d.j,a[4])}),function(a){return a["delete"]()})},function(d){return b.db.table(14).add({a:a[0],b:c[6],c:[0,0],d:[0,0],j:a[4]})}]):b.resolve()}]):b.resolve()},function(d){return c[3]?b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({Z:a[4]})}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxVerifyThreadRowExistsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.sp("128",a[0],a[1]==null?[0,1]:a[1],"inbox",[0,0],[0,40])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxWriteThreadCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({P:a[1],bb:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=new b.Map(),c[0].set("thread_key",a[0]),c[1]=b.toJSON(c[0]),b.sp("1","insert_persistent_menu_items",[0,117],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertRankingRequestStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(135).put({a:a[0],b:a[1]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertRankingScoreStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(134).put({a:a[0],d:a[1],b:a[2],c:a[3],e:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStickerUpsertStickerPackStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(122).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStickerUpsertStickerStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(121).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSThreadThemeUpsertGradientColorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(117).put({a:a[0],b:a[1],c:a[2],d:[0,0]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSThreadThemeUpsertThemeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.i64.neq(void 0,void 0)?c[1]=void 0:c[1]=a[0],b.db.table(116).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[10]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoredProcedures",["LSContactDeleteThenInsertContactStoredProcedure","LSContactVerifyContactRowExistsStoredProcedure","LSCoreBeginHandlingPendingTasksForQueueStoredProcedure","LSCoreBeginHandlingSyncForSyncGroupStoredProcedure","LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure","LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure","LSCoreGetCursorStoredProcedure","LSCoreGetViewerFBIDStoredProcedure","LSCoreHandleFailedTaskStoredProcedure","LSCoreIssueNewTaskAndGetTaskIDStoredProcedure","LSCoreIssueNewTaskStoredProcedure","LSCoreRemoveTaskStoredProcedure","LSCoreSetRegionHintStoredProcedure","LSCoreTaskExistsStoredProcedure","LSMailboxAddParticipantIdToGroupThreadStoredProcedure","LSMailboxApplyAdminMessageCTAStoredProcedure","LSMailboxClearMessagePlaceholderRangeStoredProcedure","LSMailboxComputeParticipantCapabilitiesStoredProcedure","LSMailboxDeletePollAttachmentStoredProcedure","LSMailboxDeleteThenInsertMessageRequestStoredProcedure","LSMailboxDeleteThenInsertThreadStoredProcedure","LSMailboxFilteredThreadsRangesQueryStoredProcedure","LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure","LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure","LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure","LSMailboxHandlePlaceholderPollDataStoredProcedure","LSMailboxInsertAttachmentItemStoredProcedure","LSMailboxInsertAttachmentStoredProcedure","LSMailboxInsertNewMessageRangeStoredProcedure","LSMailboxMarkThreadReadStoredProcedure","LSMailboxOptimisticUpsertReactionStoredProcedure","LSMailboxSetMessageDisplayedContentTypesStoredProcedure","LSMailboxSetMessageTextHasLinksStoredProcedure","LSMailboxSetThreadImageURLStoredProcedure","LSMailboxThreadsRangesQueryStoredProcedure","LSMailboxUpdateExtraAttachmentColumnsStoredProcedure","LSMailboxUpdateReadReceiptStoredProcedure","LSMailboxUpdateThreadsRangesV2StoredProcedure","LSMailboxUpsertAttachmentRangeStoredProcedure","LSMailboxUpsertMessageStoredProcedure","LSMailboxUpsertSequenceIdStoredProcedure","LSMailboxVerifyPollExistsStoredProcedure","LSMailboxVerifyThreadExistsStoredProcedure","LSMailboxVerifyThreadRowExistsStoredProcedure","LSMailboxWriteThreadCapabilitiesStoredProcedure","LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure","LSRankingDeleteThenInsertRankingRequestStoredProcedure","LSRankingDeleteThenInsertRankingScoreStoredProcedure","LSStickerUpsertStickerPackStoredProcedure","LSStickerUpsertStickerStoredProcedure","LSThreadThemeUpsertGradientColorStoredProcedure","LSThreadThemeUpsertThemeStoredProcedure","requireDeferred"],(function(a,b,c,d,e,f){c={1:b("LSCoreIssueNewTaskStoredProcedure"),2:b("LSCoreIssueNewTaskAndGetTaskIDStoredProcedure"),3:(a=b("requireDeferred"))("LSCoreCancelTaskByQueueNameStoredProcedure").__setRef("LSStoredProcedures"),4:b("LSCoreGetViewerFBIDStoredProcedure"),5:b("LSCoreHandleFailedTaskStoredProcedure"),395:b("LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure"),6:a("LSCoreIssueNewFireAndForgetTaskStoredProcedure").__setRef("LSStoredProcedures"),396:b("LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure"),8:b("LSCoreRemoveTaskStoredProcedure"),9:a("LSCoreHandleSyncFailureStoredProcedure").__setRef("LSStoredProcedures"),10:a("LSCoreForceImmediateSyncStoredProcedure").__setRef("LSStoredProcedures"),11:a("LSCoreIssueNewErrorStoredProcedure").__setRef("LSStoredProcedures"),12:a("LSCoreRemoveErrorStoredProcedure").__setRef("LSStoredProcedures"),13:b("LSCoreTaskExistsStoredProcedure"),14:a("LSCoreUpdateTaskQueueNameStoredProcedure").__setRef("LSStoredProcedures"),15:a("LSCoreUpdateTaskValueStoredProcedure").__setRef("LSStoredProcedures"),16:b("LSCoreGetCursorStoredProcedure"),17:a("LSCoreUpdateOptimisticContextThreadKeysStoredProcedure").__setRef("LSStoredProcedures"),397:a("LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure").__setRef("LSStoredProcedures"),18:b("LSCoreSetRegionHintStoredProcedure"),19:a("LSCoreSetBackgroundModeStoredProcedure").__setRef("LSStoredProcedures"),20:a("LSCoreBeginHandlingPendingTasksStoredProcedure").__setRef("LSStoredProcedures"),21:b("LSCoreBeginHandlingPendingTasksForQueueStoredProcedure"),22:a("LSCoreHandleTaskSendSuccessForQueueStoredProcedure").__setRef("LSStoredProcedures"),23:a("LSCoreHandleTaskSendFailureForQueueStoredProcedure").__setRef("LSStoredProcedures"),534:b("LSCoreBeginHandlingSyncForSyncGroupStoredProcedure"),535:a("LSCoreBeginHandlingSyncStoredProcedure").__setRef("LSStoredProcedures"),533:b("LSContactVerifyContactRowExistsStoredProcedure"),25:b("LSContactDeleteThenInsertContactStoredProcedure"),26:a("LSContactInsertContactStoredProcedure").__setRef("LSStoredProcedures"),27:a("LSContactOptimisticSetBlockStatusStoredProcedure").__setRef("LSStoredProcedures"),28:a("LSContactContactUploadStoredProcedure").__setRef("LSStoredProcedures"),29:a("LSContactSetContactCapabilitiesStoredProcedure").__setRef("LSStoredProcedures"),30:a("LSContactOptimisticPseudoUnblockStoredProcedure").__setRef("LSStoredProcedures"),583:a("LSContactSetMessengerRestrictStoredProcedure").__setRef("LSStoredProcedures"),31:a("LSContactResetOptimisticBlockStateStoredProcedure").__setRef("LSStoredProcedures"),584:a("LSContactAddMessengerContactStoredProcedure").__setRef("LSStoredProcedures"),603:a("LSContactSetUserBlockStatusStoredProcedure").__setRef("LSStoredProcedures"),32:a("LSMailboxLocalApplyOptimisticMessageStoredProcedure").__setRef("LSStoredProcedures"),398:a("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure").__setRef("LSStoredProcedures"),33:a("LSMailboxInsertOptimisticAttachmentStoredProcedure").__setRef("LSStoredProcedures"),399:a("LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure").__setRef("LSStoredProcedures"),34:a("LSMailboxOptimisticSendMessageStoredProcedure").__setRef("LSStoredProcedures"),35:a("LSMailboxIssueSendAttachmentMessageTaskStoredProcedure").__setRef("LSStoredProcedures"),36:a("LSMailboxOptimisticSendURLShareStoredProcedure").__setRef("LSStoredProcedures"),37:a("LSMailboxOptimisticSendMessageForwardStoredProcedure").__setRef("LSStoredProcedures"),38:a("LSMailboxOptimisticSendAttachmentForwardStoredProcedure").__setRef("LSStoredProcedures"),400:a("LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure").__setRef("LSStoredProcedures"),401:a("LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure").__setRef("LSStoredProcedures"),39:a("LSMailboxAddParticipantToGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),40:b("LSMailboxAddParticipantIdToGroupThreadStoredProcedure"),402:a("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),41:b("LSMailboxInsertNewMessageRangeStoredProcedure"),42:a("LSMailboxUpdateExistingMessageRangeStoredProcedure").__setRef("LSStoredProcedures"),43:a("LSMailboxUpdateMessageRangeV1StoredProcedure").__setRef("LSStoredProcedures"),44:b("LSMailboxUpsertAttachmentRangeStoredProcedure"),45:a("LSMailboxIssueAttachmentsRangeQueryStoredProcedure").__setRef("LSStoredProcedures"),46:a("LSMailboxMessagePointQueryStoredProcedure").__setRef("LSStoredProcedures"),47:b("LSMailboxClearMessagePlaceholderRangeStoredProcedure"),48:b("LSMailboxMarkThreadReadStoredProcedure"),49:a("LSMailboxMarkAllThreadsReadStoredProcedure").__setRef("LSStoredProcedures"),570:a("LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure").__setRef("LSStoredProcedures"),404:a("LSMailboxUpdateThreadSnippetAfterMessageDeletedStoredProcedure").__setRef("LSStoredProcedures"),53:a("LSMailboxDeleteMessageStoredProcedure").__setRef("LSStoredProcedures"),54:a("LSMailboxOptimisticUnsendMessageStoredProcedure").__setRef("LSStoredProcedures"),55:a("LSMailboxDeleteThreadStoredProcedure").__setRef("LSStoredProcedures"),56:a("LSMailboxDeleteMessageRequestStoredProcedure").__setRef("LSStoredProcedures"),57:a("LSMailboxOptimisticDeleteThreadStoredProcedure").__setRef("LSStoredProcedures"),58:a("LSMailboxOptimisticRemoveThreadStoredProcedure").__setRef("LSStoredProcedures"),569:a("LSMailboxOptimisticUnarchiveThreadStoredProcedure").__setRef("LSStoredProcedures"),606:a("LSMailboxOptimisticUnignoreMessageStoredProcedure").__setRef("LSStoredProcedures"),59:a("LSMailboxTaskSerializerRemoveThreadStoredProcedure").__setRef("LSStoredProcedures"),60:a("LSMailboxSendMessageV2FailureCleanupStoredProcedure").__setRef("LSStoredProcedures"),61:a("LSMailboxUpdateDeliveryReceiptStoredProcedure").__setRef("LSStoredProcedures"),62:a("LSMailboxSyncUpdateThreadNameStoredProcedure").__setRef("LSStoredProcedures"),597:a("LSMailboxOptimisticUpdateThreadNameV2StoredProcedure").__setRef("LSStoredProcedures"),64:a("LSMailboxUpdateThreadImageStoredProcedure").__setRef("LSStoredProcedures"),65:a("LSMailboxOptimisticUpdateThreadThemeStoredProcedure").__setRef("LSStoredProcedures"),405:a("LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure").__setRef("LSStoredProcedures"),406:a("LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure").__setRef("LSStoredProcedures"),66:b("LSMailboxSetThreadImageURLStoredProcedure"),67:a("LSMailboxIssueSetThreadImageTaskStoredProcedure").__setRef("LSStoredProcedures"),68:a("LSMailboxOptimisticRemoveThreadImageStoredProcedure").__setRef("LSStoredProcedures"),407:a("LSMailboxUpdateThreadParticipantAdminStatusStoredProcedure").__setRef("LSStoredProcedures"),408:a("LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure").__setRef("LSStoredProcedures"),409:a("LSMailboxUpdateThreadParticipantNicknameV2StoredProcedure").__setRef("LSStoredProcedures"),410:a("LSMailboxOptimisticUpdateThreadParticipantNicknameStoredProcedure").__setRef("LSStoredProcedures"),70:a("LSMailboxOptimisticExitFocusModeStoredProcedure").__setRef("LSStoredProcedures"),71:b("LSMailboxVerifyThreadRowExistsStoredProcedure"),411:a("LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure").__setRef("LSStoredProcedures"),72:b("LSMailboxOptimisticUpsertReactionStoredProcedure"),412:a("LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure").__setRef("LSStoredProcedures"),73:a("LSMailboxUpdateDraftMessageStoredProcedure").__setRef("LSStoredProcedures"),74:a("LSMailboxLocalMarkThreadReadStoredProcedure").__setRef("LSStoredProcedures"),413:b("LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure"),414:b("LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure"),415:a("LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure").__setRef("LSStoredProcedures"),76:a("LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure").__setRef("LSStoredProcedures"),77:a("LSMailboxUpdateThreadNullstateCTAIDStoredProcedure").__setRef("LSStoredProcedures"),78:a("LSMailboxGetThreadAttributionInfoStoredProcedure").__setRef("LSStoredProcedures"),416:a("LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure").__setRef("LSStoredProcedures"),417:a("LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure").__setRef("LSStoredProcedures"),79:a("LSMailboxUpdateThreadApprovalModeStoredProcedure").__setRef("LSStoredProcedures"),80:a("LSMailboxInsertIntoAdminApprovalQueueStoredProcedure").__setRef("LSStoredProcedures"),81:a("LSMailboxRemoveFromAdminApprovalQueueStoredProcedure").__setRef("LSStoredProcedures"),418:a("LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure").__setRef("LSStoredProcedures"),419:a("LSMailboxUpdateParticipantSubscribeSourceTextStoredProcedure").__setRef("LSStoredProcedures"),82:a("LSMailboxInsertRtcSignalStoredProcedure").__setRef("LSStoredProcedures"),83:a("LSMailboxRtcP2PEndCallStoredProcedure").__setRef("LSStoredProcedures"),420:a("LSMailboxUpdateOrInsertRtcOngoingCallDataStoredProcedure").__setRef("LSStoredProcedures"),84:a("LSMailboxDeleteRtcOngoingCallDataStoredProcedure").__setRef("LSStoredProcedures"),421:a("LSMailboxUpsertRtcMultiwayCallInitiationConferenceNameStoredProcedure").__setRef("LSStoredProcedures"),422:a("LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure").__setRef("LSStoredProcedures"),85:a("LSMailboxFetchMultiwayConferenceNameStoredProcedure").__setRef("LSStoredProcedures"),423:b("LSMailboxGetFirstAvailableAdminMessageCTAIDStoredProcedure"),86:b("LSMailboxApplyAdminMessageCTAStoredProcedure"),87:b("LSMailboxUpsertSequenceIdStoredProcedure"),88:b("LSMailboxSetMessageTextHasLinksStoredProcedure"),89:a("LSMailboxSetMessageViewFlagsStoredProcedure").__setRef("LSStoredProcedures"),90:b("LSMailboxSetMessageDisplayedContentTypesStoredProcedure"),91:a("LSMailboxUpdateThreadThemeColorStoredProcedure").__setRef("LSStoredProcedures"),92:a("LSMailboxMarkThreadUnreadStoredProcedure").__setRef("LSStoredProcedures"),93:a("LSMailboxOptimisticMarkThreadUnreadStoredProcedure").__setRef("LSStoredProcedures"),95:b("LSMailboxThreadsRangesQueryStoredProcedure"),96:a("LSMailboxHandleRepliesOnUnsendStoredProcedure").__setRef("LSStoredProcedures"),97:a("LSMailboxUpdateRepliesOnUnsendStoredProcedure").__setRef("LSStoredProcedures"),98:a("LSMailboxSetThreadCannotUnsendReasonStoredProcedure").__setRef("LSStoredProcedures"),99:a("LSMailboxRemoveParticipantFromThreadStoredProcedure").__setRef("LSStoredProcedures"),100:a("LSMailboxUpdateParentFolderReadWatermarkStoredProcedure").__setRef("LSStoredProcedures"),424:a("LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure").__setRef("LSStoredProcedures"),101:a("LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure").__setRef("LSStoredProcedures"),102:a("LSMailboxChangeViewerStatusStoredProcedure").__setRef("LSStoredProcedures"),103:a("LSMailboxSetMessagesViewedPluginStoredProcedure").__setRef("LSStoredProcedures"),104:a("LSMailboxUpdateThreadMuteSettingStoredProcedure").__setRef("LSStoredProcedures"),105:a("LSMailboxGetParentThreadKeyStoredProcedure").__setRef("LSStoredProcedures"),106:a("LSMailboxUpdateSenderIDToPersonaIDStoredProcedure").__setRef("LSStoredProcedures"),107:a("LSMailboxUpdateAdditionalThreadContextStoredProcedure").__setRef("LSStoredProcedures"),108:a("LSMailboxOptimisticIgnoreMessageRequestStoredProcedure").__setRef("LSStoredProcedures"),109:a("LSMailboxOptimisticAcceptMessageRequestStoredProcedure").__setRef("LSStoredProcedures"),110:a("LSMailboxUpsertReactionStoredProcedure").__setRef("LSStoredProcedures"),111:a("LSMailboxDeleteReactionStoredProcedure").__setRef("LSStoredProcedures"),112:a("LSMailboxDeleteAllReactionsStoredProcedure").__setRef("LSStoredProcedures"),114:a("LSMailboxWriteCtaAccountLinkEncodedUrlStoredProcedure").__setRef("LSStoredProcedures"),115:a("LSMailboxSetThreadCapabilitiesStoredProcedure").__setRef("LSStoredProcedures"),116:a("LSMailboxProcessAccountUnlinkStoredProcedure").__setRef("LSStoredProcedures"),117:a("LSMailboxDeleteExpiredMSuggestionsStoredProcedure").__setRef("LSStoredProcedures"),118:a("LSMailboxUpdateThreadOngoingCallStateStoredProcedure").__setRef("LSStoredProcedures"),119:a("LSMailboxUpdateOngoingCallServerInfoDataStoredProcedure").__setRef("LSStoredProcedures"),120:a("LSMailboxUpsertMSuggestionsStoredProcedure").__setRef("LSStoredProcedures"),425:a("LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure").__setRef("LSStoredProcedures"),121:b("LSMailboxWriteThreadCapabilitiesStoredProcedure"),122:a("LSMailboxProcessCTAAccountUnlinkStoredProcedure").__setRef("LSStoredProcedures"),123:b("LSMailboxUpsertMessageStoredProcedure"),124:a("LSMailboxInsertMessageStoredProcedure").__setRef("LSStoredProcedures"),125:a("LSMailboxDeleteThenInsertMessageStoredProcedure").__setRef("LSStoredProcedures"),126:a("LSMailboxUpsertFolderStoredProcedure").__setRef("LSStoredProcedures"),127:a("LSMailboxUpdateShouldRoundThreadPictureStoredProcedure").__setRef("LSStoredProcedures"),128:b("LSMailboxVerifyThreadExistsStoredProcedure"),129:a("LSMailboxTaskSerializerSendMessageV2StoredProcedure").__setRef("LSStoredProcedures"),130:b("LSMailboxDeleteThenInsertThreadStoredProcedure"),131:b("LSMailboxDeleteThenInsertMessageRequestStoredProcedure"),426:a("LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure").__setRef("LSStoredProcedures"),132:a("LSMailboxUpdateFolderThreadSnippetStoredProcedure").__setRef("LSStoredProcedures"),133:a("LSMailboxResetPageMessagingWindowStoredProcedure").__setRef("LSStoredProcedures"),134:a("LSMailboxSendPlatformReferralEventStoredProcedure").__setRef("LSStoredProcedures"),135:b("LSMailboxUpdateThreadsRangesV2StoredProcedure"),136:a("LSMailboxUpdateThreadCustomEmojiStoredProcedure").__setRef("LSStoredProcedures"),137:a("LSMailboxApplyNewGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),138:b("LSMailboxInsertAttachmentStoredProcedure"),139:b("LSMailboxInsertAttachmentItemStoredProcedure"),140:a("LSMailboxDeleteThenInsertAttachmentStoredProcedure").__setRef("LSStoredProcedures"),141:a("LSMailboxInsertCtaStoredProcedure").__setRef("LSStoredProcedures"),142:a("LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure").__setRef("LSStoredProcedures"),143:a("LSMailboxDeleteFocusModeCtaStoredProcedure").__setRef("LSStoredProcedures"),144:b("LSMailboxUpdateReadReceiptStoredProcedure"),145:a("LSMailboxIssueParticipantPointQueryStoredProcedure").__setRef("LSStoredProcedures"),146:a("LSMailboxUpdateThreadThemeStoredProcedure").__setRef("LSStoredProcedures"),147:a("LSMailboxMarkOptimisticMessageFailedStoredProcedure").__setRef("LSStoredProcedures"),148:a("LSMailboxBumpThreadStoredProcedure").__setRef("LSStoredProcedures"),427:a("LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure").__setRef("LSStoredProcedures"),149:a("LSMailboxRemoveOptimisticReactionStoredProcedure").__setRef("LSStoredProcedures"),150:a("LSMailboxRemoveOptimisticGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),151:a("LSMailboxRemoveOptimisticParticipantStoredProcedure").__setRef("LSStoredProcedures"),152:a("LSMailboxUpdateHasMenuAndComposerStoredProcedure").__setRef("LSStoredProcedures"),428:a("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),153:a("LSMailboxOptimisticIgnoreMessageStoredProcedure").__setRef("LSStoredProcedures"),154:a("LSMailboxCreateOfflineThreadingIDStoredProcedure").__setRef("LSStoredProcedures"),155:a("LSMailboxUpsertMessagesStatusInTableStoredProcedure").__setRef("LSStoredProcedures"),156:a("LSMailboxReplaceOptimsiticMessageStoredProcedure").__setRef("LSStoredProcedures"),157:a("LSMailboxReplaceOptimisticThreadStoredProcedure").__setRef("LSStoredProcedures"),158:a("LSMailboxReplaceOptimisticReactionStoredProcedure").__setRef("LSStoredProcedures"),159:a("LSMailboxRemoveAllParticipantsForThreadStoredProcedure").__setRef("LSStoredProcedures"),160:a("LSMailboxRetryMessageRangeQueryStoredProcedure").__setRef("LSStoredProcedures"),161:a("LSMailboxOptimisticMarkThreadReadV2StoredProcedure").__setRef("LSStoredProcedures"),162:b("LSMailboxComputeParticipantCapabilitiesStoredProcedure"),163:a("LSMailboxUpdateExistingThreadV2StoredProcedure").__setRef("LSStoredProcedures"),164:a("LSMailboxTaskSerializerMuteThreadV2StoredProcedure").__setRef("LSStoredProcedures"),165:a("LSMailboxOptimisticMuteThreadStoredProcedure").__setRef("LSStoredProcedures"),166:a("LSMailboxMarkFolderSeenStoredProcedure").__setRef("LSStoredProcedures"),167:a("LSMailboxClearLocalThreadPictureUrlStoredProcedure").__setRef("LSStoredProcedures"),168:a("LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure").__setRef("LSStoredProcedures"),169:a("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure").__setRef("LSStoredProcedures"),429:a("LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure").__setRef("LSStoredProcedures"),170:a("LSMailboxCheckAuthoritativeMessageExistsStoredProcedure").__setRef("LSStoredProcedures"),430:a("LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure").__setRef("LSStoredProcedures"),173:a("LSMailboxIssuePollCreationForThreadTaskStoredProcedure").__setRef("LSStoredProcedures"),431:a("LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure").__setRef("LSStoredProcedures"),175:a("LSMailboxIssuePollUpdateForThreadStoredProcedure").__setRef("LSStoredProcedures"),176:b("LSMailboxDeletePollAttachmentStoredProcedure"),432:a("LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure").__setRef("LSStoredProcedures"),177:a("LSMailboxUpdateThreadDescriptionStoredProcedure").__setRef("LSStoredProcedures"),178:a("LSMailboxUpdateParticipantCapabilitiesStoredProcedure").__setRef("LSStoredProcedures"),179:a("LSMailboxAddPollForThreadStoredProcedure").__setRef("LSStoredProcedures"),180:a("LSMailboxDeletePollDataStoredProcedure").__setRef("LSStoredProcedures"),181:b("LSMailboxHandlePlaceholderPollDataStoredProcedure"),182:b("LSMailboxVerifyPollExistsStoredProcedure"),183:a("LSMailboxAddPollOptionV2StoredProcedure").__setRef("LSStoredProcedures"),184:a("LSMailboxAddPollVoteV2StoredProcedure").__setRef("LSStoredProcedures"),185:a("LSMailboxRemovePollVoteV2StoredProcedure").__setRef("LSStoredProcedures"),186:a("LSMailboxUpdatePollAdminMessageSummaryStoredProcedure").__setRef("LSStoredProcedures"),187:a("LSMailboxSetPollsThreadCapabilityStoredProcedure").__setRef("LSStoredProcedures"),188:a("LSMailboxDeleteCTAsStoredProcedure").__setRef("LSStoredProcedures"),434:a("LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure").__setRef("LSStoredProcedures"),189:a("LSMailboxCreateMeetingPlanStoredProcedure").__setRef("LSStoredProcedures"),190:a("LSMailboxSecureTemplateStatusUpdateStoredProcedure").__setRef("LSStoredProcedures"),191:b("LSMailboxUpdateExtraAttachmentColumnsStoredProcedure"),435:a("LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure").__setRef("LSStoredProcedures"),436:a("LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure").__setRef("LSStoredProcedures"),192:a("LSMailboxUpdateEphemeralMediaStateStoredProcedure").__setRef("LSStoredProcedures"),437:a("LSMailboxUpdateOptimisticEphemeralMediaStateStoredProcedure").__setRef("LSStoredProcedures"),193:a("LSMailboxUpdateSubscriptErrorMessageStoredProcedure").__setRef("LSStoredProcedures"),438:a("LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure").__setRef("LSStoredProcedures"),439:a("LSMailboxSendPlatformReferralFireForgetEventStoredProcedure").__setRef("LSStoredProcedures"),547:a("LSMailboxIssueMessagesRangeQueryStoredProcedure").__setRef("LSStoredProcedures"),580:a("LSMailboxOptimisticUpdateMessagePinStatusStoredProcedure").__setRef("LSStoredProcedures"),581:b("LSMailboxFilteredThreadsRangesQueryStoredProcedure"),586:a("LSMailboxClearCommunityMembersAndRangeStoredProcedure").__setRef("LSStoredProcedures"),587:a("LSMailboxPopulateCommunityFolderDataStoredProcedure").__setRef("LSStoredProcedures"),607:a("LSMailboxIssueCommunityMemberListFetchStoredProcedure").__setRef("LSStoredProcedures"),608:a("LSMailboxInsertCommunityMemberStoredProcedure").__setRef("LSStoredProcedures"),609:a("LSMailboxUpsertCommunityMemberRangesStoredProcedure").__setRef("LSStoredProcedures"),588:a("LSMailboxDeleteCommunityFolderStoredProcedure").__setRef("LSStoredProcedures"),590:a("LSMailboxJoinCommunityChannelStoredProcedure").__setRef("LSStoredProcedures"),591:a("LSMailboxInsertBlobAttachmentStoredProcedure").__setRef("LSStoredProcedures"),594:a("LSMailboxInsertXmaAttachmentStoredProcedure").__setRef("LSStoredProcedures"),595:a("LSMailboxUpdateThreadSnippetStoredProcedure").__setRef("LSStoredProcedures"),596:a("LSMailboxDeleteThenInsertAttachmentConversionStoredProcedure").__setRef("LSStoredProcedures"),599:a("LSMailboxMuteCallsFromThreadStoredProcedure").__setRef("LSStoredProcedures"),600:a("LSMailboxGetAttachmentForMessageStoredProcedure").__setRef("LSStoredProcedures"),601:a("LSMailboxUpdatePreviewUrlStoredProcedure").__setRef("LSStoredProcedures"),605:a("LSMailboxLocalOptimisticCreateCommunityChannelStoredProcedure").__setRef("LSStoredProcedures"),610:a("LSMailboxLocalOptimisticDeleteCommunityChannelStoredProcedure").__setRef("LSStoredProcedures"),228:a("LSMediaSendInsertNewMediaSendStoredProcedure").__setRef("LSStoredProcedures"),229:a("LSMediaSendRemoveMediaSendJobsStoredProcedure").__setRef("LSStoredProcedures"),231:a("LSMediaSendMarkSubJobCompletedV2StoredProcedure").__setRef("LSStoredProcedures"),232:a("LSMediaSendSendPhase1MultiPhotoMessageStoredProcedure").__setRef("LSStoredProcedures"),233:a("LSMediaSendSendPhase2UpdateMessageStoredProcedure").__setRef("LSStoredProcedures"),234:a("LSMediaSendResumeMediaSendJobStoredProcedure").__setRef("LSStoredProcedures"),235:a("LSMediaSendInsertPhase2PendingTaskStoredProcedure").__setRef("LSStoredProcedures"),236:a("LSMediaSendGetUploadParamsForPhase2StoredProcedure").__setRef("LSStoredProcedures"),237:a("LSMediaSendResetUseDoublePhaseConfigStoredProcedure").__setRef("LSStoredProcedures"),462:a("LSMediaSendResetSendByServerConfigIfNotDoublePhaseStoredProcedure").__setRef("LSStoredProcedures"),238:a("LSMediaSendNextPendingJobIdToScheduleStoredProcedure").__setRef("LSStoredProcedures"),239:a("LSMediaSendGetMessageAttributionParamsStoredProcedure").__setRef("LSStoredProcedures"),240:a("LSMediaSendGetIsFinalUploadingStateStoredProcedure").__setRef("LSStoredProcedures"),241:a("LSMediaSendGetMediaSendConfigStoredProcedure").__setRef("LSStoredProcedures"),242:a("LSTypingUpdateTypingIndicatorStoredProcedure").__setRef("LSStoredProcedures"),243:a("LSTypingSendTypingIndicatorStoredProcedure").__setRef("LSStoredProcedures"),303:a("LSSearchIssueSearchQueryStoredProcedure").__setRef("LSStoredProcedures"),304:a("LSSearchUpdateSearchQueryStatusStoredProcedure").__setRef("LSStoredProcedures"),305:a("LSSearchInsertSearchResultStoredProcedure").__setRef("LSStoredProcedures"),306:a("LSSearchIssueMessageSearchQueryStoredProcedure").__setRef("LSStoredProcedures"),307:a("LSSearchUpdateMessageSearchQueryStatusStoredProcedure").__setRef("LSStoredProcedures"),308:a("LSSearchInsertMessageSearchResultStoredProcedure").__setRef("LSStoredProcedures"),309:a("LSSearchClearMessageSearchTableStoredProcedure").__setRef("LSStoredProcedures"),310:a("LSSearchInsertSearchSectionStoredProcedure").__setRef("LSStoredProcedures"),311:a("LSSearchInsertRecentSearchStoredProcedure").__setRef("LSStoredProcedures"),312:a("LSSearchInsertRecentSearchResultStoredProcedure").__setRef("LSStoredProcedures"),313:a("LSSearchDeleteRecentSearchStoredProcedure").__setRef("LSStoredProcedures"),314:a("LSSearchDeleteAllRecentSearchesStoredProcedure").__setRef("LSStoredProcedures"),315:a("LSSearchClearTablesStoredProcedure").__setRef("LSStoredProcedures"),465:a("LSOmnistoreSettingsContactUploadUpdateSettingsSuccessStoredProcedure").__setRef("LSStoredProcedures"),466:a("LSOmnistoreSettingsContactUploadUpdateSettingsStoredProcedure").__setRef("LSStoredProcedures"),468:a("LSOmnistoreSettingsStoryAudienceModeUpdateStoredProcedure").__setRef("LSStoredProcedures"),469:a("LSOmnistoreSettingsStoryArchiveModeUpdateStoredProcedure").__setRef("LSStoredProcedures"),316:a("LSOmnistoreSettingsUpdateGlobalMuteUntilStoredProcedure").__setRef("LSStoredProcedures"),472:a("LSOmnistoreSettingsOptimisticallyUpdateGlobalMuteUntilStoredProcedure").__setRef("LSStoredProcedures"),473:a("LSOmnistoreSettingsUpdateShowMessagePreviewStoredProcedure").__setRef("LSStoredProcedures"),474:a("LSOmnistoreSettingsOptimisticallyUpdateShowMessagePreviewStoredProcedure").__setRef("LSStoredProcedures"),479:a("LSOmnistoreSettingsUpdateReplyReminderSettingStoredProcedure").__setRef("LSStoredProcedures"),480:a("LSOmnistoreSettingsOptimisticallyUpdateReplyReminderSettingStoredProcedure").__setRef("LSStoredProcedures"),317:a("LSOmnistoreSettingsUpdateIsSoundOnStoredProcedure").__setRef("LSStoredProcedures"),481:a("LSOmnistoreSettingsOptimisticallyUpdateIsSoundOnStoredProcedure").__setRef("LSStoredProcedures"),318:a("LSOmnistoreSettingsGdprConsentUpsertStoredProcedure").__setRef("LSStoredProcedures"),482:a("LSOmnistoreSettingsGetFirstAvailablePersistentMenuItemsCTAIDStoredProcedure").__setRef("LSStoredProcedures"),483:a("LSOmnistoreSettingsInsertPersistentMenuItemsForThreadStoredProcedure").__setRef("LSStoredProcedures"),487:a("LSOmnistoreSettingsRemoveExistingPersistentMenuItemsStoredProcedure").__setRef("LSStoredProcedures"),488:b("LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure"),489:a("LSOmnistoreSettingsOptimisticSetLockStatusStoredProcedure").__setRef("LSStoredProcedures"),319:a("LSOmnistoreSettingsInsertLockStatusStoredProcedure").__setRef("LSStoredProcedures"),320:a("LSOmnistoreSettingsCreateVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),490:a("LSOmnistoreSettingsInsertCreatedVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),321:a("LSOmnistoreSettingsResolveVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),491:a("LSOmnistoreSettingsInsertResolvedVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),492:a("LSOmnistoreSettingsNotifyVideoChatLinkJoinAttemptStoredProcedure").__setRef("LSStoredProcedures"),493:a("LSOmnistoreSettingsRequestRankedRoomParticipantsStoredProcedure").__setRef("LSStoredProcedures"),322:a("LSOmnistoreSettingsInsertAttemptedJoinerStoredProcedure").__setRef("LSStoredProcedures"),323:a("LSOmnistoreSettingsClearAttemptedJoinersStoredProcedure").__setRef("LSStoredProcedures"),494:a("LSOmnistoreSettingsUpdateRoomsUserRingabilityStoredProcedure").__setRef("LSStoredProcedures"),495:a("LSOmnistoreSettingsEnterMessengerCallRoomStoredProcedure").__setRef("LSStoredProcedures"),496:a("LSOmnistoreSettingsInsertEnterMessengerCallRoomStoredProcedure").__setRef("LSStoredProcedures"),324:a("LSOmnistoreSettingsRemoveVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),325:a("LSOmnistoreSettingsRevokeVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),497:a("LSOmnistoreSettingsInviteParticipantToVideoChatLinkStoredProcedure").__setRef("LSStoredProcedures"),498:a("LSOmnistoreSettingsInsertOrUpdateCowatchSessionStoredProcedure").__setRef("LSStoredProcedures"),326:a("LSOmnistoreSettingsRemoveCowatchSessionStoredProcedure").__setRef("LSStoredProcedures"),499:a("LSOmnistoreSettingsInsertOrUpdatePinnedThreadStoredProcedure").__setRef("LSStoredProcedures"),327:a("LSOmnistoreSettingsRemovePinnedThreadStoredProcedure").__setRef("LSStoredProcedures"),500:a("LSOmnistoreSettingsOptimisticallyInsertOrUpdatePinnedThreadStoredProcedure").__setRef("LSStoredProcedures"),501:a("LSOmnistoreSettingsOptimisticallyRemovePinnedThreadStoredProcedure").__setRef("LSStoredProcedures"),567:a("LSOmnistoreSettingsFetchPinnedThreadsStoredProcedure").__setRef("LSStoredProcedures"),568:a("LSOmnistoreSettingsTruncatePinnedThreadsStoredProcedure").__setRef("LSStoredProcedures"),502:a("LSOmnistoreSettingsInsertOrUpdateSelfProfileStoredProcedure").__setRef("LSStoredProcedures"),503:a("LSOmnistoreSettingsDeleteThenInsertMessagingSettingsStoredProcedure").__setRef("LSStoredProcedures"),504:a("LSOmnistoreSettingsOptimisticallyUpdateMessagingSettingsStoredProcedure").__setRef("LSStoredProcedures"),505:a("LSOmnistoreSettingsUpdateMessagingSettingsStoredProcedure").__setRef("LSStoredProcedures"),506:a("LSOmnistoreSettingsUpsertLiveStreamMetadataStoredProcedure").__setRef("LSStoredProcedures"),507:a("LSOmnistoreSettingsInsertOrUpdateFeatureLimitStoredProcedure").__setRef("LSStoredProcedures"),328:a("LSOmnistoreSettingsRemoveFeatureLimitStoredProcedure").__setRef("LSStoredProcedures"),576:a("LSOmnistoreSettingsOptimisticRemoveAllOfTypeThenInsertEmojiSetsStoredProcedure").__setRef("LSStoredProcedures"),598:a("LSOmnistoreSettingsEpdCookieSettingsClientUpsertStoredProcedure").__setRef("LSStoredProcedures"),602:a("LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure").__setRef("LSStoredProcedures"),363:a("LSPaymentsQueryPaymentActivityViewStoredProcedure").__setRef("LSStoredProcedures"),530:a("LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure").__setRef("LSStoredProcedures"),531:a("LSConnectivityTruncateTableAndSetShowErrorStoredProcedure").__setRef("LSStoredProcedures"),386:b("LSThreadThemeUpsertThemeStoredProcedure"),387:b("LSThreadThemeUpsertGradientColorStoredProcedure"),388:a("LSInThreadBannerFetchBannersStoredProcedure").__setRef("LSStoredProcedures"),532:a("LSInThreadBannerClearInThreadBannerTablesStoredProcedure").__setRef("LSStoredProcedures"),389:a("LSInThreadBannerInsertNewBannerStoredProcedure").__setRef("LSStoredProcedures"),390:a("LSInThreadBannerUpsertOverflowMenuStoredProcedure").__setRef("LSStoredProcedures"),391:a("LSInThreadBannerUpsertCTAStoredProcedure").__setRef("LSStoredProcedures"),392:a("LSInThreadBannerExecuteCTAStoredProcedure").__setRef("LSStoredProcedures"),393:a("LSInThreadBannerDeleteBannerStoredProcedure").__setRef("LSStoredProcedures"),394:a("LSInThreadBannerDeleteBannersStoredProcedure").__setRef("LSStoredProcedures"),536:b("LSStickerUpsertStickerPackStoredProcedure"),537:b("LSStickerUpsertStickerStoredProcedure"),538:a("LSStickerIssueNewStickerSearchQueryStoredProcedure").__setRef("LSStoredProcedures"),539:a("LSStickerIssueNewStickerPackDetailFetchStoredProcedure").__setRef("LSStoredProcedures"),540:a("LSStickerDownloadStickerPackStoredProcedure").__setRef("LSStoredProcedures"),541:a("LSStickerQueryStickerStoreStoredProcedure").__setRef("LSStoredProcedures"),542:a("LSStickerIssueRemoveStickerPackStoredProcedure").__setRef("LSStoredProcedures"),543:a("LSStickerIssueRemoveStickerPacksStoredProcedure").__setRef("LSStoredProcedures"),544:a("LSStickerIssueReorderStickerPacksStoredProcedure").__setRef("LSStoredProcedures"),546:a("LSForwardContentsGenerateOrRefreshForwardContentStoredProcedure").__setRef("LSStoredProcedures"),545:a("LSForwardContentsPersistGeneratedForwardContentStoredProcedure").__setRef("LSStoredProcedures"),548:a("LSLinkedGroupsFetchLinkedGroupForThreadStoredProcedure").__setRef("LSStoredProcedures"),549:a("LSLinkedGroupsDeleteThenInsertLinkedGroupStoredProcedure").__setRef("LSStoredProcedures"),552:a("LSRankingGetScoreTypeRankingScoreStoredProcedure").__setRef("LSStoredProcedures"),553:a("LSRankingUserHasStoryStoredProcedure").__setRef("LSStoredProcedures"),554:a("LSRankingUserHasUnreadStoryStoredProcedure").__setRef("LSStoredProcedures"),555:a("LSRankingGetInboxActiveNowScoreStoredProcedure").__setRef("LSStoredProcedures"),556:a("LSRankingGetIsActiveStoredProcedure").__setRef("LSStoredProcedures"),557:b("LSRankingDeleteThenInsertRankingScoreStoredProcedure"),558:b("LSRankingDeleteThenInsertRankingRequestStoredProcedure"),559:a("LSRankingDeleteThenInsertValueModelRuleStoredProcedure").__setRef("LSStoredProcedures"),560:a("LSRankingDeleteThenInsertValueModelFeatureStoredProcedure").__setRef("LSStoredProcedures"),561:a("LSRankingDeleteThenInsertValueModelOutputStoredProcedure").__setRef("LSStoredProcedures"),287:a("LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure").__setRef("LSStoredProcedures"),288:a("LSStoriesRoomCreateSuccessStoredProcedure").__setRef("LSStoredProcedures"),289:a("LSStoriesRoomCreateFailureStoredProcedure").__setRef("LSStoredProcedures"),290:a("LSStoriesRoomUpsertStoredProcedure").__setRef("LSStoredProcedures"),291:a("LSStoriesRoomParticipantUpsertStoredProcedure").__setRef("LSStoredProcedures"),292:a("LSStoriesRoomDeleteStoredProcedure").__setRef("LSStoredProcedures"),293:a("LSStoriesRoomParticipantDeleteStoredProcedure").__setRef("LSStoredProcedures"),294:a("LSStoriesRoomTruncateStoredProcedure").__setRef("LSStoredProcedures"),295:a("LSStoriesRoomRevokeStoredProcedure").__setRef("LSStoredProcedures"),296:a("LSStoriesRoomRevokeFailureStoredProcedure").__setRef("LSStoredProcedures"),297:a("LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure").__setRef("LSStoredProcedures"),298:a("LSStoriesRoomUpdateIssueTaskStoredProcedure").__setRef("LSStoredProcedures"),299:a("LSStoriesRoomUpdateSuccessStoredProcedure").__setRef("LSStoredProcedures"),300:a("LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure").__setRef("LSStoredProcedures"),301:a("LSStoriesRoomUpdateInterestedSuccessStoredProcedure").__setRef("LSStoredProcedures"),302:a("LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure").__setRef("LSStoredProcedures"),464:a("LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure").__setRef("LSStoredProcedures"),572:a("LSLocationUpsertLiveLocationSharerStoredProcedure").__setRef("LSStoredProcedures"),573:a("LSLocationDeleteLiveLocationSharerStoredProcedure").__setRef("LSStoredProcedures"),574:a("LSLocationPingLiveLocationSharersStoredProcedure").__setRef("LSStoredProcedures"),577:a("LSDataTracePredefineTraceForTaskStoredProcedure").__setRef("LSStoredProcedures"),578:a("LSDataTraceFlushDataTraceStoredProcedure").__setRef("LSStoredProcedures"),579:a("LSDataTraceAppendDataTraceAddonStoredProcedure").__setRef("LSStoredProcedures"),582:a("LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure").__setRef("LSStoredProcedures")};e.exports=c}),null);
__d("LSStoredProcedures.bs",["LSStoredProcedures"],(function(a,b,c,d,e,f){"use strict";a=b("LSStoredProcedures");f.storedProcedures=a}),null);
__d("FBMqttChannel.bs",["FBMqttChannel"],(function(a,b,c,d,e,f){"use strict";a=b("FBMqttChannel");f.instance=a}),null);
__d("CometTypeaheadTraceProvider",["CometHeroLogging","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.loggingProvider,c=a.trace;a=a.vcTrackerRef;this.$5=!1;this.$7=null;this.$1=c;this.$2=b;this.$6=a;this.$3="unknown"}var b=a.prototype;b.getInteractionUUID=function(){return this.$4};b.getVCTrackerRef=function(){return this.$6};b.isResolved=function(){return this.$5};b.resolve=function(){this.$5=!0,this.$7=null};b.setEventStartTime=function(a){this.$7=a};b.setEndReason=function(a){this.$3=a};b.getEndReason=function(){return this.$3};b.getEntriesCountForVisualComplete=function(){return 8};b.trace=function(a,b){var d=this;this.setEndReason("continued_typing");this.$5=!1;var e=void 0,f=void 0;this.$7!=null&&(f=this.$7,e=c("performanceNow")()-f);return this.$1(function(e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(e.getTraceId());d.$4=f;e.addMetadata("entry_point_surface",d.$2.getContext());e.addMetadata("current_text_length",b.length);f=d.$2.getSessionID();f!=null&&e.addMetadata("typeahead_sid",f);e.onComplete(function(){e.addMetadata("end_reason",d.getEndReason())});a(e)},f,e)};return a}();g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={helperText:{marginTop:"aov4n071"}};function a(a,b){var d=a.extraLayoutProps,e=d.ariaProps,f=e.ariaDescribedByProps,g=e.ariaInputProps,j=e.ariaViewProps;e=d.helperTextComponent;var k=d.isLoading;d=d.isOpened;var l=a.description,m=a.errorMessage,n=a.extraViewProps,o=a.id,p=a.inputStrategyRenderer,q=a.label,r=a.onBackspace,s=a.onBlur,t=a.onChange,u=a.onClick,v=a.onDownArrow,w=a.onEnter,x=a.onEscape,y=a.onFocus,z=a.onShiftTab,A=a.onTab,B=a.onUpArrow,C=a.queryString,D=a.viewStrategyRenderer,E=a.xstyles;E=E===void 0?{}:E;var F=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var G=a.activeEntries,H=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:d,xstyles:E});E=a.inputXStyle;var I=a.layoutXStyle,J=a.viewXStyle_DO_NOT_USE,K=c("cometHandleHighlightDropOnMouseLeave")(F.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(I),children:[h.jsx("div",{className:c("stylex")(E),children:h.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{onBackspace:r,onBlur:s,onChange:t,onClick:u,onDownArrow:v,onEnter:w,onEscape:x,onFocus:y,onShiftTab:z,onTab:A,onUpArrow:B,ref:b,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({},b,{ariaProps:g,autoFocus:F.autoFocus,description:l,errorMessage:m,id:o,inputEndContent:F.inputEndContent,inputExtraProps:F.inputExtraProps,inputStartContent:F.inputStartContent,isDisabled:F.isDisabled,label:q,placeholder:F.placeholder,queryString:C,ref:a,testid:void 0}))}})}),e!=null&&h.jsx("div",babelHelpers["extends"]({className:c("stylex")(i.helperText)},f,{children:e})),d&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:F.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")(J),onMouseLeave:K,ref:a,children:h.jsx(D,{ariaProps:j,entries:G,extraViewProps:n,highlightedEntry:H,isLoading:k,onAbandonTypeahead_DO_NOT_USE:F.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:F.onHighlightEntry,onPressEntry:F.onPressEntry,queryString:C})})}})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTypeaheadEntityViewItem.react",["CometImageIcon_DEPRECATED.react","CometTypeaheadViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.pictureUrl;a.queryString;var e=a.size;e=e===void 0?36:e;var f=a.style;f=f===void 0?"circle":f;var g=a.subtext;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","pictureUrl","queryString","size","style","subtext"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:d!=null?h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:e,src:d,style:f}):null,children:h.jsx(c("TetraTextPairing.react"),{body:b.getLabel(),bodyLineLimit:2,level:3,meta:g,metaLineLimit:1,reduceEmphasis:!0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return h(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("searchCometTypeaheadODSLogFocusEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("searchCometTypeaheadODSLogFocusEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"focused",c)})}g["default"]=a}),98);
__d("CometSearchBootstrapEntitiesDataSource.query",["CometSearchBootstrapEntitiesDataSourceQuery.graphql","CometSearchBootstrapEntitiesDataSourceQuery_node.graphql","CometTypeaheadDataEntryWithMetaData","cometUniqueID","orEmptyArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i;d=h!==void 0?h:h=b("CometSearchBootstrapEntitiesDataSourceQuery.graphql");i!==void 0?i:i=b("CometSearchBootstrapEntitiesDataSourceQuery_node.graphql");function a(a){if(!a)return[];a=c("orEmptyArray")((a=a.viewer)==null?void 0:(a=a.bootstrap_entities)==null?void 0:a.edges).map(function(a){return a.node}).filter(Boolean);a=a.map(function(a){var b=a.hcmMatchCriteria,d=a.isPlaceResult,e=a.item_logging_id,f=a.searchable,g=a.showHCMExperience;a=a.subtext;if(f==null)return null;var h=f.__typename,i=f.id,j=f.is_verified,k=f.name,l=f.profile_picture,m=f.should_show_as_individual_search_result;f=f.url;b=b;var n=h.toLowerCase();b={hcmMatchCriteria:b,id:i,isPlaceResult:(b=d)!=null?b:!1,isVerified:j,name:k,profilePictureURI:(d=l==null?void 0:l.uri)!=null?d:"",resultType:n,shouldShowAsIndividualResult:Boolean(m),showHCMExperience:g,snippet:a,type:"bootstrap",url:f};l={logging:{entityID:i,entityType:h.toLowerCase(),loggingID:(j=e)!=null?j:""},markers:new Set(["bootstrap","entity"])};return new(c("CometTypeaheadDataEntryWithMetaData"))({key:(d=i)!=null?d:c("cometUniqueID")(),label:(n=k)!=null?n:"",metaData:l,rawData:b})}).filter(Boolean);return a}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapEntitiesDataSource",["CometSearchBootstrapEntitiesDataSource.query","CometTypeaheadBootstrapDataProvider","CometTypeaheadBootstrapDataProviderStorageKey","CometTypeaheadDataCacheProvider","CometTypeaheadDataProviderQueryVariablesBuilder","CometTypeaheadInMemoryMapDataCache","WebPixelRatio","cometSearchTypeaheadPayloadDecoratorAddLimit","cometTypeaheadQueryMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=3;a=function(){function a(a){var b=a.limit;a=a.relayEnvironment;this.$2=new(c("CometTypeaheadDataCacheProvider"))({cache:new(c("CometTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("cometTypeaheadQueryMatchBuilder")});this.$4=!1;this.$3=b;b=new(c("CometTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return{first:h,of_type:["user","group","page","event"],picture_size:60*d("WebPixelRatio").get()}}});this.$1=new(c("CometTypeaheadBootstrapDataProvider"))({query:d("CometSearchBootstrapEntitiesDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a,storageKey:d("CometTypeaheadBootstrapDataProviderStorageKey").StorageKey.GlobalTypeaheadBootstrapEntities})}var b=a.prototype;b.isBootstrapped=function(){return this.$4};b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapEntitiesDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}).then(function(){return a.$4=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("cometSearchTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.removeEntriesByEntID=function(a){this.$1.clearLocalStorage();var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a===e.getRawData().id&&this.$2.remove(e)}};a.getInstance=function(b){if(a.instance!=null)return a.instance;a.instance=new a(babelHelpers["extends"]({},b,{limit:i}));return a.instance};return a}();a.instance=null;g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","CometTypeaheadDataEntryWithMetaData","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","orEmptyArray","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=c("orEmptyArray")(a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges).map(function(a){return a.node}).filter(Boolean);a=c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.entryKey,i=g.extraLoggingInfo,j=g.label,k=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var l=b.default_key,m=b.keys;b=b.tier;return new(c("CometTypeaheadDataEntryWithMetaData"))({key:(h=(h=h)!=null?h:g&&(a==null?void 0:a.default_key))!=null?h:f,label:(a=j)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},i,{loggingID:(h=d)!=null?h:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(k))},rawData:{structuredInfo:g,suggestion_keys:b!=null?{default_key:l,keys:m,tier:b}:null,type:"bootstrap"}})}));return a}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["CometSearchBootstrapKeywordsDataSource.query","CometTypeaheadBootstrapDataProvider","CometTypeaheadBootstrapDataProviderStorageKey","CometTypeaheadDataCacheProvider","CometTypeaheadDataProviderQueryVariablesBuilder","CometTypeaheadInMemoryMapDataCache","cometSearchTypeaheadPayloadDecoratorAddLimit","cometTypeaheadStartsWithMatchBuilder","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("CometTypeaheadDataCacheProvider"))({cache:new(c("CometTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("cometTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("CometTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("CometTypeaheadBootstrapDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a,storageKey:c("gkx")("1821232")?d("CometTypeaheadBootstrapDataProviderStorageKey").StorageKey.GlobalTypeaheadBootstrapKeywords:null})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("cometSearchTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$1.clearLocalStorage(),this.$2.clear()};b.removeEntriesByEntID=function(a){this.$1.clearLocalStorage();var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;a===((e=f.getRawData().structuredInfo)==null?void 0:(e=e.direct_nav_result)==null?void 0:e.ent_id)&&this.$2.remove(f)}};return a}();g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return h.forwardRef(function(b,c){var d=b.onPressEntry,e=b.traceProvider;b=babelHelpers.objectWithoutPropertiesLoose(b,["onPressEntry","traceProvider"]);var f=i(function(a){e&&e.setEndReason("successful_user_action"),d&&d(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onPressEntry:f,ref:c,traceProvider:e}))})}g["default"]=a}),98);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","orEmptyArray","react","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a){var e=a.bootstrapDatasource,f=d("CometRelay").useRelayEnvironment();return i(function(){return{validate:function(a){a=c("filterNulls")(a.map(function(a){a=a.getRawData();if(a.type!=="bootstrap")return null;a=(a=a.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}));d("CometRelay").fetchQuery(f,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)},next:function(a){a=a.search_client_cache_policy_check;for(var a=c("orEmptyArray")(a==null?void 0:a.policy_decision),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(d>=a.length)break;f=a[d++]}else{d=a.next();if(d.done)break;f=d.value}f=f;var g=f.cache_type,h=f.force_cache_refresh;f=f.ids_to_remove;if(g==="KEYWORD_BOOTSTRAP"){for(var g=f,f=Array.isArray(g),i=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;e.removeEntriesByEntID(j)}h===!0&&(e.clear(),e.bootstrap())}}}})}}},[e,f])}g["default"]=a}),98);
__d("useCometSearchTypeaheadTraceProvider",["CometTypeaheadTraceProvider","qpl","react","useCometDisplayTimingTrackerForInteraction","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=c("useCometInteractionTracing")(c("qpl")._(30605354,"2310"),"contingent","INTERACTION"),d=c("useCometDisplayTimingTrackerForInteraction")("SearchTypeaheadLayout"),e=h(function(){return new(c("CometTypeaheadTraceProvider"))({loggingProvider:a,trace:b,vcTrackerRef:d})},[a,b,d]);return e}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["CometTypeaheadEntityViewItem.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.getRawData();d=d.profile;d=(d=d)!=null?d:{};var e=d.id,f=d.profilePictureURL;d=d.url;f==null&&c("recoverableViolation")("Missing profile picture for fbid "+e,"search");return h.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:{preventLocalNavigation:!0,url:d},pictureUrl:f,size:36}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("entity")&&a.has("recent")}f["default"]=a}),66);
__d("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometSearchTypeaheadRecentEntityViewItem.react","CometTypeaheadFocusLockRegion.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(c("CometSearchTypeaheadRecentEntityViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useSearchCometGlobalSERPRouteUrlBuilder",["Base64","XCometSearchResultsControllerRouteBuilder","react","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b;b=(b=a)!=null?b:{};var d=b.currentSearchType,e=c("useSearchCometResultsCommonRouteParamBuilder")(a);return h(function(a){var b=a.highConfidenceResult,f=a.kgid,g=a.preloadedEntityIDs,h=a.preloadedEntityType,i=a.searchType,j=a.stsDisambiguation;a=babelHelpers["extends"]({},e.build(babelHelpers["extends"]({},a)),{searchtype:(i=(a=i)!=null?a:d)!=null?i:"top"});g!=null&&(a.__pei__=c("Base64").encode(JSON.stringify(g)));h!=null&&(a.__pet__=c("Base64").encode(JSON.stringify(h)));j!=null&&(a.__stsd__=c("Base64").encode(JSON.stringify(j)));if(b!=null){i=b.id;g=b.source;a.__hcr__=c("Base64").encode(JSON.stringify({id:i,source:g}))}f!=null&&(a.ib=c("Base64").encode(JSON.stringify({kgid:f})));return c("XCometSearchResultsControllerRouteBuilder").buildURL(a)},[e,d])}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getRawData();a=a.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["cometDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("cometDataEntryLabelKeyBuilder")(a)===c("cometDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.getKey()+" compared to "+b.getKey(),"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["getCometSearchTypeaheadStructuredInfoKey","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.getRawData())!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("unrecoverableViolation")("Unexpected missing keys","search");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.getLabel().toLowerCase()!==b.getLabel().toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.getKey()+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.getLabel()}function j(a,b,d){c("recoverableViolation")(a+": ("+i(b)+") vs ("+i(d)+")","search")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("cometSearchTypeaheadDedupeAndLog",["killswitch","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,d){if(c("killswitch")("SEARCH_COMET_DISABLE_STS_DUPE_LOGGING"))return b;var e=new Map(),f=[];for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;var k=e.get(j.getKey());k!=null?i({caller:d,dupeEntry:j,existingEntry:k,strategy:a}):(e.set(j.getKey(),j),f.push(j))}return f}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.getMetaData().markers,g=d.getMetaData().markers;c("recoverableViolation")("STS Dupe encountered: "+e.getKey()+" ("+Array.from(f).join("_")+", label: "+e.getLabel()+") compared to "+d.getKey()+"\n    ("+Array.from(g).join("_")+", label: "+d.getLabel()+")\n    ","search");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.getRawData().suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(var a=a,k=Array.isArray(a),l=0,a=k?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=a.length)break;m=a[l++]}else{l=a.next();if(l.done)break;m=l.value}m=m;i.push(m)}for(var m=b,l=Array.isArray(m),k=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=m.length)break;a=m[k++]}else{k=m.next();if(k.done)break;a=k.value}b=a;a=[];for(var n=0;n<i.length;n++){var o=i[n];o!=null&&f(o,b)&&a.push(n)}o=a[0];n=o!=null?i[o]:null;if(n!=null&&!j.has(n)){n=g(n,b);i[o]=n;for(var o=0;o<a.length;o++){var p=a[o],q=i[p];q!=null&&q!==n&&q!==g(q,b)&&(i[p]=null)}}else i.push(b)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadDataSource",["CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","cometDataEntryLabelKeyBuilder","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.config,d=b.dataSources,e=d.bootstrapKeywordsDataSourceParams;d=d.keywordDataSourceParams;var f=b.logging.sessionContext;b=b.view.renderLimit;var g=a.recentDataSource;a=a.relayEnvironment;this.$5=b;this.$4=f;this.$1=new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},e,{limit:b,relayEnvironment:a}));this.$2=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},d,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:b,onError:function(){return c("searchCometTypeaheadPushErrorToast")()},relayEnvironment:a}));this.$3=g}var b=a.prototype;b.bootstrap=function(){this.$1.bootstrap(),this.$3.bootstrap()};b.addRecentEntry=function(a,b){this.$3.add(a,this.$4,b)};b.fetchCache=function(a){var b=a.query;if(b===""){b=this.$3.fetchCache(a);return c("cometSearchTypeaheadDecorateRecentPayload")(b,{limit:this.$5})}b=this.$1.fetchCache(a);var d=b.entries;if(d.length>=this.$5)return this.$6(b);b=this.$2.fetchCache(a);a=b.entries;b=b.params;d=h(d,a);return this.$6({entries:d,params:b})};b.fetchNetwork=function(a){var b=this,d=a.query;return d===""?this.$3.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")(a,{limit:b.$5})}):this.$2.fetchNetwork(a).then(function(c){var d=b.$1.fetchCache(a);d=d.entries;var e=c.entries;c=c.params;d=h(d,e);return b.$6({entries:d,params:c})})};b.removeRecentEntry=function(a,b){this.$3.remove(a,b)};b.$6=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{keyBuilder:c("cometDataEntryLabelKeyBuilder"),limit:this.$5})};b.clearRecentSearches=function(){this.$3.clear()};b.clearQueryCache=function(){this.$2.clearQueryCache()};b.getBootstrapKeywordsDataSource=function(){return this.$1};return a}();function h(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometSearchEventEmitterContext","CometTypeaheadInputRoundedStrategy.react","react","useMergeRefs","useRefEffect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a,b){var d=a.onChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange"]);var e=i(c("CometSearchEventEmitterContext")),f=e.subscribeToGlobalTypeaheadFocus;e=c("useRefEffect")(function(a){var b=f(function(){if(a==null)return;a.value="";a.focus();d("")});return b},[d,f]);e=c("useMergeRefs")(e,b);return h.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{onChange:d,ref:e}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.label,i=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onShiftTab,t=a.onTab,u=a.onUpArrow,v=a.traceProvider,w=a.viewRole,x=a.xstyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","viewRole","xstyles"]);var y=c("useCometInternalTypeaheadState")(),z=y.activeEntries,A=y.highlightedEntry;y=y.isOpened;var B=c("useCometInternalTypeaheadFetch")();B=B.isLoading;b=c("useCometTypeaheadInputRefs")(b);var C=b.composedRef;b=b.inputRef;x=(x=x)!=null?x:c("useSearchCometGlobalTypeaheadStyles")();v=c("useCometInternalTypeaheadHeroTracing")(v,k);k=v.interactionUUID;var D=v.onTracedChange,E=v.shouldHoldHeroTracing;v=v.vcTrackerRef;b=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")({inputRef:b,onAbandonTypeahead_DO_NOT_USE:i,onBlur:j,onChange:D,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onShiftTab:s,onTab:t,onUpArrow:u});i=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:z,helperText:f,highlightedEntry:A,inputLabel:g,isOpened:y,viewRole:w});return h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:k,ref:v,children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:E}),h.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,b,{extraLayoutProps:{afterViewContent:e,ariaProps:i,beforeViewContent:d,helperTextComponent:null,isLoading:B,isOpened:y},label:g,ref:C,viewRole:w,xstyles:x}))]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImageIcon_DEPRECATED.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","TetraTextPairing.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.getRawData().structuredInfo)==null?void 0:b.direct_nav_result)!=null?b:{};var g=b.img_url,j=b.link_url,k=b.snippet;b=b.type;var l=i(function(){return{preloadCodeOnMount:c("gkx")("1990285"),preventLocalNavigation:!0,url:j}},[j]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemStartContent:g!=null?h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:36,src:g,style:b==="SHORTCUT"?"square":"circle"}):null,linkProps:l,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:d.getLabel(),query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:k,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1570865")}g.hasTypeaheadRedirection=a}),98);
__d("getSearchCometGlobalTypeaheadBootstrapEntityModuleParams",["FBLogger","TokenizeUtil","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([["user","ENTITY_USER"],["page","ENTITY_PAGES"],["event","ENTITY_EVENTS"],["group","ENTITY_GROUPS"],["place","ENTITY_PLACES"],["blended","ENTITY_BLENDED"]]);function i(a){return c("TokenizeUtil").parse(a).tokens.join("")}function j(a,b,d){var e=b.toLowerCase().trim(),f=d.toLowerCase().trim();switch(a){case"exact":return e===f;case"partial":return f.indexOf(e)!==-1;case"prefix":return f.indexOf(e)===0;case"no_constraint":return!0;case"trimmed":return i(e)===i(f);default:c("FBLogger")("search").warn("Unexpected HCM match criteria %s",a);return b===d}}function a(a,b){a=a.fetchCache({query:b});a=a.entries;var d=c("filterNulls")(a.map(function(a){a=a.getRawData();return a==null?void 0:a.id})),e=a.length>0?a[0]:null;if(e==null)return null;var f=e.getRawData();if(f==null)return null;var g=f.hcmMatchCriteria,i=f.id,k=f.isPlaceResult,l=f.resultType;f=f.showHCMExperience;var m=a.filter(function(a){return((a=a.getRawData())==null?void 0:a.resultType)===l}),n=a.some(function(a){return a.getRawData().shouldShowAsIndividualResult===!0});n=n||m.length!==a.length?"blended":l;m=h.get(k?"place":n);var o;switch(n){case"app":o="APP";break;case"blended":o="BLENDED";break;case"event":o="EVENT";break;case"group":o="GROUP";break;case"page":o=k?"PLACE":"PAGE";break;case"user":o="USER";break}if(m==null||o==null)return null;var p;if(a.length===1&&g!=null&&f===!0){n=j(g,b,e.getLabel());n&&f===!0&&i!=null&&(p={id:i,source:"BOOTSTRAP_EXACT_MATCH"})}return{highConfidenceResult:p,moduleRole:m,preloadedEntityIDs:d,preloadedEntityType:o,results:a}}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadEntityBootstrap",["CometRelay","CometSearchBootstrapEntitiesDataSource","getSearchCometGlobalTypeaheadBootstrapEntityModuleParams","gkx","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=c("requireDeferred")("ODS").__setRef("useSearchCometGlobalTypeaheadEntityBootstrap");function a(){var a=d("CometRelay").useRelayEnvironment(),b=h(function(){return c("gkx")("1096208")?c("CometSearchBootstrapEntitiesDataSource").getInstance({relayEnvironment:a}):null},[a]);return h(function(){return{getParamsForQuery:function(a){return b==null||!b.isBootstrapped()?null:c("getSearchCometGlobalTypeaheadBootstrapEntityModuleParams")(b,a)},load:function(){b!=null&&!b.isBootstrapped()&&b.bootstrap()},logLoadStatus:function(){i.onReady(function(a){a.bumpEntityKey(354,"comet.entity_bootstrap",b!=null&&b.isBootstrapped()?"loaded":"not_loaded")})}}},[b])}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","useSearchCometGlobalSERPRouteUrlBuilder","useSearchCometGlobalTypeaheadEntityBootstrap","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.shouldGenerateBootstrapEntityModuleParamsForQuery,e=c("useSearchCometGlobalSERPRouteUrlBuilder")(),f=c("useSearchCometHashtagRouteUrlBuilder")();a=c("useSearchCometGlobalTypeaheadEntityBootstrap")();var g=a.getParamsForQuery,h=c("useSearchCometResultsEntryPointSurface")();return function(a){var i=a.entry,j=a.queryString;a=a.typeaheadSessionID;var k=i.getLabel().toLowerCase(),l=i.getMetaData();l=l==null?void 0:l.markers;var m=l!=null&&l.has("entity"),n=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(k);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&n!=null&&!l.has("see_all"))return f({entryPointAction:"SEARCH_BOX",exploreEntryPoint:j===""?3:4,hashtag:n,typeaheadSessionID:a});else{n=b&&!m?(j=g(k))!=null?j:{}:{};m=n.highConfidenceResult;j=n.preloadedEntityIDs;n=n.preloadedEntityType;m=m;i=i.getRawData();if((i.type==="keyword"||i.type==="recent")&&l.has("high_confidence")){var o;o=(o=(o=i.structuredInfo)==null?void 0:o.high_confidence_result)!=null?o:{};var p=o.hcm_id;o=o.source_as_enum;p!=null&&o!=null&&(m={id:p,source:o})}var q;if(i.type==="keyword"&&l.has("disambiguation")){i=(l=(p=i.structuredInfo)==null?void 0:(o=p.disambiguation_result)==null?void 0:o.disambiguation_info_list[0])!=null?l:{};p=i.link_url;o=i.type;if(p!=null){l=d("ConstUriUtils").getUri(p);if(l!=null){i=new Map();h!=null&&i.set("__eps__",h);o!=null&&i.set("__stsd__",c("Base64").encode(JSON.stringify({primary:{type:o}})));p=new Map();for(var i=i,r=Array.isArray(i),s=0,i=r?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=i.length)break;t=i[s++]}else{s=i.next();if(s.done)break;t=s.value}t=t;var u=t[0];t=t[1];p.set(u,t)}u=l.addQueryParams(p);if(u!=null)return u.toString()}}o!=null&&(q={primary:{type:o}})}return e({entryPointAction:"SEARCH_BOX",highConfidenceResult:m,preloadedEntityIDs:j,preloadedEntityType:n,query:k,stsDisambiguation:q,typeaheadSessionID:a})}}}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["gkx","react","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.entry,d=a.queryString,e=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")({shouldGenerateBootstrapEntityModuleParamsForQuery:!1});return h(function(){return{preloadCodeOnMount:c("gkx")("1990285"),preventLocalNavigation:!0,url:e({entry:b,queryString:d})}},[e,b,d])}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);var g=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:d,queryString:f});b=(b=d.getRawData().structuredInfo)!=null?b:{};b=b.disambiguation_result;if(b==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}b=b.disambiguation_info_list;var i=b[0].snippet;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemStartContent:h.jsx(c("CometTypeaheadViewItemIcon.react"),{isActive:e,type:"typed"}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:d.getLabel(),query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:i,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometProfilePhoto.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.getRawData().structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};var g=b.hcm_id,i=b.picture_url,j=b.snippet;if(i==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=g)!=null?b:"null"),"search")}g=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:d,queryString:f});return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemEndContent:i!=null?h.jsx(c("CometProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:i}}):null,itemStartContent:h.jsx(c("CometTypeaheadViewItemIcon.react"),{isActive:e,type:"typed"}),linkProps:g,children:h.jsx(c("CometTypeaheadHighlight.react"),{content:d.getLabel(),query:f,strategy:"non-match",children:function(a){return h.jsx(c("TetraTextPairing.react"),{body:a,bodyLineLimit:2,level:3,meta:j,metaLineLimit:1})}})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["CometImageIcon_DEPRECATED.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","TetraTextPairing.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b,d=a.entry,e=a.isActive;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.getRawData().structuredInfo)==null?void 0:b.direct_nav_result)!=null?b:{};var f=b.img_url,g=b.link_url,j=b.snippet,k=b.title;b=b.type;var l=i(function(){return{preloadCodeOnMount:c("gkx")("1990285"),preventLocalNavigation:!0,url:g}},[g]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:d})}),itemStartContent:f!=null?h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:36,src:f,style:b==="SHORTCUT"?"square":"circle"}):null,linkProps:l,children:h.jsx(c("TetraTextPairing.react"),{body:k,bodyLineLimit:2,level:3,meta:j,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);f=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:d,queryString:f});b=(b=d.getRawData().structuredInfo)!=null?b:{};b=b.disambiguation_result;if(b==null){c("recoverableViolation")("Missing disambiguation result STS info","search");return null}b=b.disambiguation_info_list;b=b[0].snippet;return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:d})}),itemStartContent:h.jsx(c("CometTypeaheadViewItemIcon.react"),{isActive:e,type:"recent"}),linkProps:f,children:h.jsx(c("TetraTextPairing.react"),{body:d.getLabel(),bodyLineLimit:2,level:2,meta:b,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["CometImageIcon_DEPRECATED.react","CometRow.react","CometRowItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraTextPairing.react","react","recoverableViolation","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);b=(b=(b=d.getRawData().structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};var g=b.hcm_id,i=b.picture_url;b=b.snippet;if(i==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((g=g)!=null?g:"null"),"search")}g=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:d,queryString:f});return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:d,isActive:e,itemEndContent:h.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[i!=null?h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:36,src:i,style:"roundedRect"})}):null,h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:d})})})]}),itemStartContent:h.jsx(c("CometTypeaheadViewItemIcon.react"),{isActive:e,type:"recent"}),linkProps:g,children:h.jsx(c("TetraTextPairing.react"),{body:d.getLabel(),bodyLineLimit:2,level:3,meta:b,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadEchoViewItem.react",["CometTypeaheadEchoViewItem.react","react","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:b,queryString:d});return h.jsx(c("CometTypeaheadEchoViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:e,queryString:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadNullstateKeywordViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","react","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:b,queryString:d});return h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:e,queryString:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadSeeAllViewItem.react",["CometTypeaheadSeeAllViewItem.react","react","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:b,queryString:d});return h.jsx(c("CometTypeaheadSeeAllViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:e,queryString:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadTypedKeywordViewItem.react",["CometTypeaheadKeywordViewItem.react","react","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps")({entry:b,queryString:d});return h.jsx(c("CometTypeaheadKeywordViewItem.react"),babelHelpers["extends"]({},a,{entry:b,linkProps:e,queryString:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("direct_nav")&&a.has("recent")}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("keyword")&&a.has("direct_nav")}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("recent")&&a.has("disambiguation")}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("keyword")&&a.has("disambiguation")}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("recent")&&a.has("high_confidence")}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.getMetaData();a=a.markers;return a.has("keyword")&&a.has("high_confidence")}f["default"]=a}),66);
__d("SearchCometGlobalTypeaheadViewItemResolver.react",["fbt","CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","CometTypeaheadViewItemResolver.react","QE2Logger","SearchCometGlobalTypeaheadEchoViewItem.react","SearchCometGlobalTypeaheadNullstateKeywordViewItem.react","SearchCometGlobalTypeaheadSeeAllViewItem.react","SearchCometGlobalTypeaheadTypedKeywordViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=j(function(){return k()},[]);return i.jsx(c("CometTypeaheadViewItemResolver.react"),babelHelpers["extends"]({},a,{entryMappings:d,children:b}))}a.displayName=a.name+" [from "+f.id+"]";function k(){d("QE2Logger").logExposureForUser("comet_structured_typeahead_universe");d("QE2Logger").logExposureForUser("comet_search_apollo_redesign");return[{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("SearchCometGlobalTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("SearchCometGlobalTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:l}},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDisambiguationKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentEntityViewItem.react")},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("SearchCometGlobalTypeaheadNullstateKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("SearchCometGlobalTypeaheadTypedKeywordViewItem.react")}].filter(Boolean)}function l(a){return h._("{=[query]} \u0915\u094b \u0916\u094b\u091c\u0947\u0902",[h._param("=[query]",i.jsx("strong",{children:h._("{query}",[h._param("query",a)])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadViewItem.react",["SearchCometGlobalTypeaheadViewItemResolver.react","cr:1888367","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.entry,e=a.queryString,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return h.jsx(c("SearchCometGlobalTypeaheadViewItemResolver.react"),{entry:d,children:function(a){return h.jsx(a,babelHelpers["extends"]({},f,{debugElement:b("cr:1888367")?h.jsx(b("cr:1888367"),{entry:d,queryString:e}):null,entry:d,queryString:e}))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadViewStrategy.react",["fbt","CometSearchTypeaheadBaseViewRecentEmptyState.react","CometTypeaheadProgressGlimmer.react","CometTypeaheadViewList.react","CometUnitHeader.react","FocusInertRegion.react","SearchCometGlobalTypeaheadViewItem.react","XCometActivityLogControllerRouteBuilder","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.ariaProps,f=a.entries;a.extraViewProps;var g=a.highlightedEntry,j=a.isLoading,k=a.onAbandonTypeahead_DO_NOT_USE,l=a.queryString,m=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]);a=b("XCometActivityLogControllerRouteBuilder");a=a.buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:"me"});var n=l==="";n=n&&f.length>0;return i.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsxs("div",{className:"scb9dxdr dflh9lhu sj5x9vvc buofh1pr cbu4d94t j83agx80 rq0escxv l82x9zwi uo3d90p7 cwj9ozl2",children:[n?i.jsx("div",{className:"h676nmdw oi9244e8 bi6gxh9e",children:i.jsx(c("CometUnitHeader.react"),{action:h._("\u090f\u0921\u093f\u091f \u0915\u0930\u0947\u0902"),actionLinkProps:{url:a},headline:h._("\u0939\u093e\u0932\u093f\u092f\u093e \u0938\u0930\u094d\u091a"),level:3,onActionPress:k,paddingHorizontal:0})}):null,i.jsx(c("CometTypeaheadViewList.react"),{ariaProps:e,entries:f,highlightedEntry:g,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return i.createElement(c("SearchCometGlobalTypeaheadViewItem.react"),babelHelpers["extends"]({},m,{entry:b,isActive:d,key:b.getKey(),queryString:l,role:a}))}}),j&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),f.length===0&&i.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("searchCometGlobalTypeahead.config",[],(function(a,b,c,d,e,f){"use strict";a=8;b={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a}};f["default"]=b}),66);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return h.forwardRef(function(b,c){var d=b.onChange,e=b.onPressEntry,f=b.shouldQueryStringUpdateFromSelectedEntryOnClick;f=f===void 0?!1:f;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]);var g=i(function(a){var b=a.getRawData();b=b.type;var c=a.getMetaData();c=c.markers;b=b==="recent"&&c.has("entity")||c.has("direct_nav");d(b?"":a.getLabel());e&&e(a)},[d,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:d,onPressEntry:g,ref:c,shouldQueryStringUpdateFromSelectedEntryOnClick:f}))})}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){return h.forwardRef(function(b,e){b=babelHelpers["extends"]({},b);e=c("useCometTypeaheadInputRefs")(e);var f=e.composedRef,g=e.inputRef;e=c("useCometInternalTypeaheadStateDispatcher")();var k=e.dispatchIsOpened,l=i(function(){g.current!=null&&(g.current.focus(),k(!0))},[g,k]);e=j(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",l)]},[l]);c("useGlobalKeyCommands")(e);return h.jsx(a,babelHelpers["extends"]({},b,{ref:f}))})}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometRelay","CometSearchEventEmitterContext","CometTypeaheadErrorFallback.react","QPLUserFlow","QPLUtils","Random","SearchCometGlobalTypeaheadDataSource","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometGlobalTypeaheadViewStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","cr:1788640","qex","qpl","react","searchCometGlobalTypeahead.config","searchCometTypeaheadODSLogFocusEvent","useCometSearchRecentDataSourceContextDecorator","useCometSearchTypeaheadLoggingProvider","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalSERPRouteUrlBuilder","useSearchCometGlobalTypeaheadEntityBootstrap","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometHashtagRouteUrlBuilder","useSearchCometRecentSearchDataSource","useSearchCometTypeaheadBootstrapValidation","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo,n=(e=b("cr:1788640"))!=null?e:function(){return null};function a(a){var b,e=a.inputXStyle,f=a.onClose,g=a.onFocus,p=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputXStyle","onClose","onFocus","queryString"]);p=c("useCometTypeaheadStateQueryString")(p);var q=p[0];p=p[1];var r=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")({shouldGenerateBootstrapEntityModuleParamsForQuery:!0}),s=c("useSearchCometGlobalSERPRouteUrlBuilder")(),t=c("useSearchCometHashtagRouteUrlBuilder")(),u=c("useCometTypeaheadNavigate")({tapPoint:"tap_search_bar"}),v=d("CometRelay").useRelayEnvironment(),w=c("useSearchCometRecentSearchDataSource")({fetchSTS:Boolean(c("qex")._("269")),filter:"all"}),x=m(function(){return new(c("SearchCometGlobalTypeaheadDataSource"))({config:c("searchCometGlobalTypeahead.config"),recentDataSource:w,relayEnvironment:v})},[w,v]),y=c("useSearchCometTypeaheadBootstrapValidation")({bootstrapDatasource:x.getBootstrapKeywordsDataSource()}),z=y.validate;y=j(function(a){var b=a.reason,e=a.sessionID;a=a.shownEntries;z(a);b==="success"?c("QPLUserFlow").endSuccess(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)}):b==="abandon"&&c("QPLUserFlow").endCancel(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(e)})},[z]);var A=c("useCometSearchTypeaheadLoggingProvider")({context:"search_global",onSessionEnd:y});y=c("useCometSearchTypeaheadTraceProvider")(A);var B=c("useSearchCometGlobalTypeaheadEntityBootstrap")(),C=B.getParamsForQuery,D=B.load,E=B.logLoadStatus,F=c("useCometSearchRecentDataSourceContextDecorator")(x);B=m(function(){return[F,{decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")}]},[F]);l(function(){x.bootstrap()},[x]);var G=j(function(){var a=2;d("Random").coinflip(a)&&c("searchCometTypeaheadODSLogFocusEvent")("comet.ta_global_event_focus",!0,a);D();c("QPLUserFlow").start(c("qpl")._(195636649,"5429"),{instanceKey:d("QPLUtils").deriveInstanceKey(A.getSessionID())});g&&g()},[D,A,g]),H=j(function(a){var b=a.getMetaData();b=b==null?void 0:b.markers;var c=b!=null&&b.has("entity");b=b!=null&&b.has("direct_nav");E();var d=r({entry:a,queryString:q,typeaheadSessionID:A.getSessionID()});a=o(a,d,c,b);u(a)},[E,A,u,q,r]),I=j(function(a){var b;b=(b=C(a))!=null?b:{};var c=b.highConfidenceResult,e=b.preloadedEntityIDs;b=b.preloadedEntityType;E();var f=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&f!=null?f=t({entryPointAction:"SEARCH_BOX",exploreEntryPoint:q===""?3:4,hashtag:f,typeaheadSessionID:A.getSessionID()}):f=s({entryPointAction:"SEARCH_BOX",highConfidenceResult:c,preloadedEntityIDs:e,preloadedEntityType:b,query:a,typeaheadSessionID:A.getSessionID()});u(f)},[C,t,E,A,u,q,s]),J=j(function(){x.clearQueryCache(),f&&f()},[x,f]),K=k(c("CometSearchEventEmitterContext")),L=K.subscribeToClearGlobalRecentSearches;l(function(){return L(function(){x.clearRecentSearches()})},[x,L]);K=c("useStable")(function(){return c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react"))))});b=(b=n())!=null?b:h._("Facebook \u092e\u0947\u0902 \u0916\u094b\u091c\u0947\u0902");var M=q==="";M=M?"grid":"listbox";return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("CometTypeaheadErrorFallback.react"),{})},children:i.jsx(K,babelHelpers["extends"]({},a,{dataSource:x,decorators:B,inputExtraProps:{hideIconOnFocus:!0,size:"large",xstyle:e},inputStartContent:a.inputStartContent,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:h._("Facebook \u092e\u0947\u0902 \u0916\u094b\u091c\u0947\u0902"),layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:A,onChange:p,onClose:J,onFocus:G,onPressEntry:H,onSelectFreeformQuery:I,placeholder:b,queryString:q,testid:void 0,traceProvider:y,viewRole:M,viewStrategyRenderer:c("SearchCometGlobalTypeaheadViewStrategy.react")}))})}a.displayName=a.name+" [from "+f.id+"]";function o(a,b,c,d){a=a.getRawData();var e;if(a!=null&&a.type==="recent"&&c){e=a==null?void 0:(c=a.profile)==null?void 0:c.url}if(a!=null&&(a.type==="keyword"||a.type==="bootstrap"||a.type==="recent")&&d){e=a==null?void 0:(c=a.structuredInfo)==null?void 0:(d=c.direct_nav_result)==null?void 0:d.link_url}return(a=e)!=null?a:b}g["default"]=a}),98);